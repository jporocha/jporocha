(function(e){function t(t){for(var o,i,r=t[0],c=t[1],l=t[2],u=0,m=[];u<r.length;u++)i=r[u],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&m.push(n[i][0]),n[i]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(e[o]=c[o]);d&&d(t);while(m.length)m.shift()();return s.push.apply(s,l||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],o=!0,r=1;r<a.length;r++){var c=a[r];0!==n[c]&&(o=!1)}o&&(s.splice(t--,1),e=i(i.s=a[0]))}return e}var o={},n={app:0},s=[];function i(t){if(o[t])return o[t].exports;var a=o[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=o,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(a,o,function(t){return e[t]}.bind(null,o));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=t,r=r.slice();for(var l=0;l<r.length;l++)t(r[l]);var d=c;s.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"034f":function(e,t,a){"use strict";a("1530")},"0485":function(e,t,a){},"0abd":function(e,t,a){"use strict";a("1105")},1105:function(e,t,a){},"11d9":function(e,t,a){e.exports=a.p+"img/3.aed164c2.jpg"},1530:function(e,t,a){},1771:function(e,t,a){var o={"./1.jpg":"8554","./2.jpg":"405a","./3.jpg":"11d9","./background.jpeg":"ce85","./douglas.jpeg":"a98b","./felipe.jpeg":"b9d3","./logo.jpg":"b640","./logo_pequeno.png":"ec6f","./logo_transparente.png":"66a3","./nlogo.png":"2ca1","./parallax.jpg":"7180","./parallax2.jpg":"7c89"};function n(e){var t=s(e);return a(t)}function s(e){if(!a.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}n.keys=function(){return Object.keys(o)},n.resolve=s,e.exports=n,n.id="1771"},1938:function(e,t,a){"use strict";a("0485")},"1a51":function(e,t,a){"use strict";a("6275")},"2ca1":function(e,t,a){e.exports=a.p+"img/nlogo.5ef6a7eb.png"},"405a":function(e,t,a){e.exports=a.p+"img/2.45d15245.jpg"},"4d61":function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var o=a("2b0e"),n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("v-app-bar",{staticClass:"appBar",attrs:{dark:"",app:""}},[a("Header")],1),a("v-main",[a("router-view")],1),a("vtoast",{ref:"vtoast"})],1)},s=[],i=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-container",{staticClass:"d-flex align-center mx-0",attrs:{fluid:""}},[o("v-spacer"),o("v-img",{staticClass:"mr-2",attrs:{src:a("2ca1"),"aspect-ratio":1,"max-width":"40"},on:{click:e.goHome}}),o("div",{staticClass:"logo",on:{click:e.goHome}},[e._v("NeoMecanica")]),o("v-spacer"),o("Avatar")],1)},r=[],c=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.user?a("div",[a("v-menu",{attrs:{bottom:"","min-width":"200px",rounded:"","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on;return[a("v-btn",e._g({attrs:{icon:"","x-large":""}},o),[a("v-avatar",{attrs:{color:"blue darken-4",size:"30"}},[a("span",{staticClass:"white--text text-h6"},[e._v(e._s(e.user.nome.charAt(0)))])])],1)]}}],null,!1,393012863)},[a("v-card",[a("v-list-item-content",{staticClass:"justify-center"},[a("div",{staticClass:"mx-auto text-center"},[a("h4",[e._v(e._s(e.user.nome))]),"admin"===e.user.acesso?a("section",[a("v-divider",{staticClass:"my-3"}),a("v-btn",{attrs:{small:"",depressed:"",rounded:"",text:""},on:{click:e.adminArea}},[e._v("Área do administador")])],1):a("section",[a("v-divider",{staticClass:"my-3"}),a("v-btn",{attrs:{small:"",depressed:"",rounded:"",text:""},on:{click:e.clientArea}},[e._v("Área do cliente")])],1),a("v-divider",{staticClass:"my-3"}),a("v-btn",{attrs:{small:"",depressed:"",rounded:"",text:""},on:{click:e.logOut}},[e._v("\n              Desconectar\n            ")])],1)])],1)],1)],1):a("v-btn",{attrs:{small:""},on:{click:e.logIn}},[e._v(" Login ")])],1)},l=[],d=a("bc3a"),u=a.n(d),m={computed:{user:function(){return this.$store.getters.getUser}},methods:{logIn:function(){this.$router.push("login")},logOut:function(){var e=this;u.a.get("/auth/logout").then((function(){e.$store.dispatch("setUser",null),e.$router.push("/")})).catch((function(e){console.log("Falha no Avatar:",e)}))},clientArea:function(){this.$router.push("/cliente")},adminArea:function(){this.$router.push("/dashboard")}}},v=m,p=a("2877"),h=a("6544"),f=a.n(h),g=a("8212"),b=a("8336"),x=a("b0af"),C=a("ce7e"),_=a("5d23"),w=a("e449"),k=Object(p["a"])(v,c,l,!1,null,null,null),y=k.exports;f()(k,{VAvatar:g["a"],VBtn:b["a"],VCard:x["a"],VDivider:C["a"],VListItemContent:_["a"],VMenu:w["a"]});var j={components:{Avatar:y},methods:{goHome:function(){this.$router.push("/")}}},V=j,A=(a("966e"),a("a523")),T=a("adda"),P=a("2fa4"),$=Object(p["a"])(V,i,r,!1,null,"8b8fa214",null),E=$.exports;f()($,{VContainer:A["a"],VImg:T["a"],VSpacer:P["a"]});var D=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-snackbar",{attrs:{color:e.color,timeout:e.timer,top:"",center:""},scopedSlots:e._u([{key:"action",fn:function(t){return[a("v-icon",{attrs:{color:"white"},on:{click:function(t){e.showSnackbar=!1}}},[e._v(" mdi-close ")])]}}]),model:{value:e.showSnackbar,callback:function(t){e.showSnackbar=t},expression:"showSnackbar"}},[a("v-icon",{attrs:{left:""}},[e._v(e._s(e.icon))]),e._v(e._s(e.message)+"\n  ")],1)},S=[],R={name:"vtoast",data:function(){return{showSnackbar:!1,message:"",color:"success",icon:"mdi-check",timer:3e3}},methods:{show:function(e){this.showSnackbar=!0,this.message=e.message||"Erro desconhecido",this.color=e.color||"success",this.timer=e.timer||3e3,this.icon=e.icon||"mdi-check"}}},O=R,F=a("132d"),q=a("2db4"),B=Object(p["a"])(O,D,S,!1,null,null,null),U=B.exports;f()(B,{VIcon:F["a"],VSnackbar:q["a"]});var N={components:{Header:E,vtoast:U},mounted:function(){var e=this;this.$root.vtoast=this.$refs.vtoast,u.a.get("auth/user").then((function(t){t.data.id?e.$store.dispatch("setUser",t.data):e.$router.push({name:"Home"})})).catch((function(){e.$router.push({name:"Home"})}))}},I=N,L=(a("034f"),a("7496")),z=a("40dc"),M=a("f6c4"),H=Object(p["a"])(I,n,s,!1,null,null,null),G=H.exports;f()(H,{VApp:L["a"],VAppBar:z["a"],VMain:M["a"]});a("caad"),a("2532");var K=a("8c4f"),J=a("2f62");o["a"].use(J["a"]);var W=new J["a"].Store({state:{user:null},getters:{getUser:function(e){return e.user}},mutations:{setUser:function(e,t){e.user=t}},actions:{setUser:function(e,t){e.commit("setUser",t)}}}),X=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("LogoView"),a("QuemSomos",{staticClass:"mb-7"}),a("Cards",{attrs:{cards:e.cardContent}}),a("Servicos"),a("v-divider",{staticClass:"mx-4 mb-4"}),a("FaleConosco"),a("Footer")],1)},Y=[],Q=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-row",{staticClass:"d-flex justify-center color4 my-6"},e._l(e.cards,(function(e,t){return a("v-col",{key:"card"+t,staticClass:"col-sm-12 col-md-4 col-lg-3"},[a("Card",{attrs:{card:e}})],1)})),1)},Z=[],ee=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-hover",{scopedSlots:e._u([{key:"default",fn:function(t){var n=t.hover;return[o("v-card",{staticClass:"elevation-0 ml-2",attrs:{width:"100%",color:"color4",height:"450"}},[o("v-card-text",{staticClass:"text-center"},[o("v-icon",{attrs:{large:"",color:"white"}},[e._v(e._s(e.card.icon))]),o("h2",{staticClass:"text-h6 white--text"},[e._v(e._s(e.card.title))])],1),o("v-img",{attrs:{src:a("1771")("./"+e.card.img),height:"75%"}},[e.alwaysOn?o("v-card",{staticClass:"white--text text-justify text-body-1 fill-height pa-4",attrs:{color:"rgb(0, 0, 0, 0.7)"},domProps:{innerHTML:e._s(e.card.text)}}):e._e()],1),o("v-fade-transition",[n&&!e.alwaysOn?o("v-overlay",{staticClass:"ma-n3",attrs:{absolute:"",color:"color4 darken-2",opacity:"0.8"}},[o("div",{staticClass:"mx-5 text-justify white--text"},[o("span",{domProps:{innerHTML:e._s(e.card.text)}})])]):e._e()],1)],1)]}}])})},te=[],ae={props:{card:{type:Object,default:function(){return{}}}},computed:{alwaysOn:function(){return window.innerWidth<960}}},oe=ae,ne=a("99d9"),se=a("0789"),ie=a("ce87"),re=a("a797"),ce=Object(p["a"])(oe,ee,te,!1,null,null,null),le=ce.exports;f()(ce,{VCard:x["a"],VCardText:ne["b"],VFadeTransition:se["c"],VHover:ie["a"],VIcon:F["a"],VImg:T["a"],VOverlay:re["a"]});var de={components:{Card:le},props:{cards:{type:Array,default:function(){return[]}}},data:function(){return{overlay:!1}}},ue=de,me=a("62ad"),ve=a("0fd9"),pe=Object(p["a"])(ue,Q,Z,!1,null,null,null),he=pe.exports;f()(pe,{VCol:me["a"],VRow:ve["a"]});var fe=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"d-flex flex-column",attrs:{fluid:""}},[o("v-parallax",{attrs:{src:a("7c89"),width:"100%"}},[o("v-row",{attrs:{align:"center",justify:"center"}},[o("v-col",{staticClass:"d-flex justify-center cols-sm-12 cols-md-3"},[o("v-img",{attrs:{src:a("66a3"),"max-width":"70%"}})],1),o("v-col",{staticClass:"text-right text-h5 black--text d-none d-md-flex cols-md-9"},[e._v("\n        Entregamos projetos inovadores com soluções personalizadas, simples e\n        práticas, utilizando todo nosso conhecimento técnico e prático, além\n        dos melhores softwares e hardwares disponíveis no mercado.\n      ")])],1)],1),o("v-col",{staticClass:"text-right text-subtitle-1 d-flex d-md-none cols-sm-12 pt-4"},[e._v("\n    Entregamos projetos inovadores com soluções personalizadas, simples e\n    práticas, utilizando todo nosso conhecimento técnico e prático, além dos\n    melhores softwares e hardwares disponíveis no mercado.\n  ")])],1)},ge=[],be={},xe=be,Ce=a("8b9c"),_e=Object(p["a"])(xe,fe,ge,!1,null,"5967aae2",null),we=_e.exports;f()(_e,{VCol:me["a"],VImg:T["a"],VParallax:Ce["a"],VRow:ve["a"]});var ke=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("v-col",{staticClass:"col-md-12 col-lg-8 mx-auto"},[o("h3",[e._v("Porque a Neomecanica se diferencia das demais?")]),o("p",[e._v("\n      Pois preza por uma tratativa direta e objetiva, onde o contato é\n      realizado diretamente com os engenheiros da empresa. "),o("br"),e._v("Visamos\n      personalizar as soluções à necessidade do cliente e temos parceria com\n      outras áreas da engenharia, serviços e produtos.\n    ")]),o("h3",[e._v("Nossa história")]),o("p",[e._v("\n      A Neomecanica surgiu em 2020, formada por dois amigos, ambos engenheiros\n      mecânicos, que decidiram somar experiências e oferecer o conhecimento\n      adquirido que soma mais de 25 anos de experiência. Acreditamos que a\n      engenharia deve ser acessível e trazer benefícios à sociedade, sempre\n      respeitando a ética e princípios técnicos.\n    ")])]),o("v-row",{staticClass:"mx-auto"},[o("v-spacer"),o("v-col",{staticClass:"col-md-12 col-lg-4"},[o("v-img",{attrs:{src:a("b9d3"),height:"400","max-width":"600"}}),o("h3",[e._v("Felipe Gonçalves")]),o("ul",[o("li",[e._v("Graduado em 2007 na Universidade Estadual de Maringá")]),o("li",[e._v("\n          Desenvolvimento de projeto de painéis solares, foguetes e\n          plataformas no setor aeroespacial;\n        ")]),o("li",[e._v("\n          Planejamento das manutenções preventivas e corretivas em indústria\n          de cimento;\n        ")]),o("li",[e._v("\n          Coordenação, elaboração e execução de projeto de equipamentos para\n          poços de petróleo;\n        ")]),o("li",[e._v("\n          Acompanhamento de perfurações de poços petrolífero em tempo real e\n          elaboração e revisão de procedimentos operacionais;\n        ")]),o("li",[e._v("Perícias de acidentes automotivos.")])])],1),o("v-col",{staticClass:"col-md-12 col-lg-4"},[o("v-img",{attrs:{src:a("a98b"),height:"400","max-width":"600"}}),o("h3",[e._v("Douglas Baltazar")]),o("ul",[o("li",[e._v("Graduado em 2008 na Universidade Estadual de Maringá")]),o("li",[e._v("\n          Coordenação no desenvolvimento de bancos, airbags e cintos de\n          segurança em indústria automotiva;\n        ")]),o("li",[e._v("\n          Supervisão de manutenção de frota e equipamentos em usinas\n          sucroenergéticas e construtoras;\n        ")]),o("li",[e._v("\n          Desenvolvimento, implantação e manutenção de projetos de sistemas de\n          armazenamento de combustíveis (SASC e SAAC), rede GLP e gases\n          medicinais.\n        ")]),o("li",[e._v("Perícias de acidentes automotivos e falhas em equipamentos.")])])],1),o("v-spacer")],1)],1)},ye=[],je={},Ve=je,Ae=(a("f9e2"),Object(p["a"])(Ve,ke,ye,!1,null,"3c2692ee",null)),Te=Ae.exports;f()(Ae,{VCol:me["a"],VImg:T["a"],VRow:ve["a"],VSpacer:P["a"]});var Pe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mx-2"},[a("v-card",{staticClass:"mx-auto mb-4",attrs:{"max-width":"800"}},[a("v-card-title",[e._v("Fale conosco")]),a("v-form",{ref:"form",model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-card-text",[a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{"prepend-icon":"mdi-account",label:"Nome",rules:[e.rules.required],outlined:"",required:""},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1),a("v-col",{staticClass:"pr-md-2",attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{"prepend-icon":"mdi-phone",label:"Telefone",placeholder:"(XX)X1234-5678",rules:[e.rules.phoneRule],outlined:"",required:""},model:{value:e.phoneNumber,callback:function(t){e.phoneNumber=t},expression:"phoneNumber"}})],1),a("v-col",{staticClass:"pl-md-2",attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{"prepend-icon":"mdi-email",outlined:"",label:"E-mail",rules:[e.rules.mailRule],required:""},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-textarea",{attrs:{rules:[e.rules.required],outlined:"",label:"Mensagem"},model:{value:e.assunto,callback:function(t){e.assunto=t},expression:"assunto"}})],1)],1)],1),a("v-card-actions",{staticClass:"mt-n4 pb-4"},[a("v-spacer"),a("v-btn",{staticClass:"mr-2",attrs:{color:"color4 white--text",loading:e.isBusy,disabled:e.isBusy,type:"submit",small:""},on:{click:e.sendData}},[e._v("\n          Enviar\n        ")])],1)],1)],1)],1)},$e=[],Ee=(a("b0c0"),{data:function(){return{name:"",phoneNumber:"",email:"",assunto:"",isBusy:!1,valid:!0,rules:{required:function(e){return!!e||"Campo deve ser preenchido."},phoneRule:function(e){var t=/^(\(?\d{2}\)?)?(\d{4,5})(\-)?(\d{4})/;return t.test(e)||"Telefone inválido"},mailRule:function(e){var t=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(e)||"E-mail inválido"}}}},methods:{sendData:function(){var e=this;if(!this.valid)return this.$refs.form.validate(),void this.$root.vtoast.show({color:"orange",message:"Preencha corretamente os campos."});this.isBusy=!0;var t={name:this.name,phone:this.phoneNumber,email:this.email,content:this.assunto};u.a.post("/message",t).then((function(t){e.$root.vtoast.show({color:"green",message:t.data.msg}),e.isBusy=!1,e.$refs.form.reset()})).catch((function(t){e.$root.vtoast.show({color:"red",message:t.response.data.msg}),e.isBusy=!1}))}}}),De=Ee,Se=a("4bd4"),Re=a("8654"),Oe=a("a844"),Fe=Object(p["a"])(De,Pe,$e,!1,null,null,null),qe=Fe.exports;f()(Fe,{VBtn:b["a"],VCard:x["a"],VCardActions:ne["a"],VCardText:ne["b"],VCardTitle:ne["c"],VCol:me["a"],VForm:Se["a"],VRow:ve["a"],VSpacer:P["a"],VTextField:Re["a"],VTextarea:Oe["a"]});var Be=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"color3 lighten-1 pt-2"},[a("div",{staticClass:"text-center text-h5 mb-4"},[e._v("Nossos serviços")]),a("v-divider",{staticClass:"mb-2 mt-n2"}),a("v-carousel",{attrs:{cycle:"",height:"150","hide-delimiters":"","show-arrows-on-hover":"",interval:3e3}},e._l(e.slides,(function(t,o){return a("v-carousel-item",{key:o},[a("v-row",{staticClass:"fill-height text-center"},[a("v-col",{attrs:{cols:"12"}},[a("h4",[e._v(e._s(t.title))]),a("br"),e._l(t.list,(function(t){return a("p",{key:t,staticClass:"caption"},[e._v("\n            "+e._s(t)+"\n          ")])}))],2)],1)],1)})),1)],1)},Ue=[],Ne={data:function(){return{slides:[{title:"Projetos",list:["Redes de GLP, gases medicinais e ar comprimido","Sistemas de armazenamento de combustíveis","Estruturas metálicas"]},{title:"NR-13",list:["Inspeção externa e interna de vasos de pressão","Teste hidrostático","Reconstituição de documentação"]},{title:"NR-18",list:["Projeto de instalação para andaimes em balanço","Acompanhamento de montagem e instalação","Treinamentos"]},{title:"Sistema de climatização",list:["Projetos de sistema de climatização","Projetos de sistema de exaustão e ventilação","PMOC"]},{title:"Perícias e inspeções",list:["Acidentes automotivos","Equipamentos","Parques e brinquedos INFA"]}]}}},Ie=Ne,Le=a("5e66"),ze=a("3e35"),Me=Object(p["a"])(Ie,Be,Ue,!1,null,null,null),He=Me.exports;f()(Me,{VCarousel:Le["a"],VCarouselItem:ze["a"],VCol:me["a"],VDivider:C["a"],VRow:ve["a"]});var Ge=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-row",{staticClass:"d-flex color3 black--text"},[o("v-col",{staticClass:"cols-12 col-md-6 d-flex justify-center fill-height align-center"},[o("v-img",{attrs:{src:a("ec6f"),"max-width":"200"}})],1),o("v-col",{staticClass:"cols-6 mx-2"},[e._v("\n    Neomecanica - Escritório de Engenharia "),o("br"),e._v("\n    Rua Pioneiro Waldemar Gomes da Cunha, 514"),o("br"),e._v("\n    Maringá - PR"),o("br"),o("a",{attrs:{href:"mailto:contato@neomecanica.com.br"}},[e._v("contato@neomecanica.com.br")]),o("br"),o("v-divider",{staticClass:"my-2"}),o("div",{staticClass:"overline mt-2"},[e._v("\n      Siga-nos nas redes sociais\n      "),o("a",{staticClass:"text-decoration-none",attrs:{href:"https://instagram.com/neomecanica"}},[o("v-icon",{attrs:{size:"24",color:"purple darken-1"}},[e._v("mdi-instagram")])],1)])],1)],1)},Ke=[],Je={},We=Je,Xe=Object(p["a"])(We,Ge,Ke,!1,null,null,null),Ye=Xe.exports;f()(Xe,{VCol:me["a"],VDivider:C["a"],VIcon:F["a"],VImg:T["a"],VRow:ve["a"]});var Qe={components:{LogoView:we,Cards:he,QuemSomos:Te,Servicos:He,FaleConosco:qe,Footer:Ye},data:function(){return{cardContent:[{text:"Buscamos constantemente trazer projetos inovadores, entregando mais do que o cliente solicita, de forma rápida e prática.<br />Pensando no projeto como um todo: concepção, planejamento, projeto técnico, custo, montagem e entrega ao cliente, nós entregamos segurança e tranquilidade para nosso cliente, sabendo que ele terá a melhor solução de engenharia que ele poderia encontrar.",title:"Nosso diferencial",icon:"mdi-desk-lamp",img:"1.jpg"},{text:"Queremos difundir a engenharia por todas a sociedade, independente do problema.<br />Sabemos que com estudo e dedicação existe uma solução simples, prática e economicamente viável para ser apresentada; só precisamos pensar.",title:"O que fazemos",icon:"mdi-cloud-question",img:"2.jpg"},{text:"Para qualquer pessoa ou empresa que busca por soluções simples, práticas e diferenciadas, a Neomecanica Escritório de engenharia é um escritório multidisciplinar que lhe entrega projetos customizados, diferente do que você pode encontrar hoje no mercado brasileiro.",title:"Nossos valores",icon:"mdi-target",img:"3.jpg"}]}}},Ze=Qe,et=Object(p["a"])(Ze,X,Y,!1,null,null,null),tt=et.exports;f()(et,{VDivider:C["a"]});var at=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{staticClass:"d-flex fill-height justify-center align-center cardBG",attrs:{fluid:""}},[a("v-spacer"),a("transition",{attrs:{name:"rotate",mode:"out-in"}},[1===e.modo?a("LoginCard",{on:{Register:e.changeToRegister,ForgotPass:e.changeToPass}}):2===e.modo?a("RegisterCard",{on:{Login:e.changeToLogin}}):3===e.modo?a("ForgotPass",{on:{Login:e.changeToLogin}}):e._e()],1),a("v-spacer")],1)},ot=[],nt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{staticClass:"pa-2",attrs:{width:"300px"}},[a("v-card-title",{staticClass:"d-flex justify-center"},[e._v(" Login ")]),a("v-divider"),a("v-card-text",[a("v-form",{ref:"form",model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-text-field",{attrs:{"prepend-icon":"mdi-email-outline",label:"E-mail",required:"",outlined:"",rules:e.emailRules,dense:""},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),a("v-text-field",{attrs:{"prepend-icon":"mdi-account-key-outline","append-icon":e.showPass?"mdi-eye":"mdi-eye-off",type:e.showPass?"text":"password",label:"Senha",required:"",outlined:"",dense:"",rules:e.passwordRules},on:{"click:append":function(t){e.showPass=!e.showPass}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),a("div",{staticClass:"d-flex justify-center"},[a("v-btn",{attrs:{color:"green","min-width":"150px",small:""},on:{click:e.login}},[e._v("Entrar")])],1),a("div",{staticClass:"link caption text-center mt-4",on:{click:function(t){return e.newEvent("ForgotPass")}}},[e._v("\n        Esqueceu sua senha? Clique aqui.\n      ")])],1)],1),a("v-divider"),a("v-card-actions",{staticClass:"mb-2"},[a("v-row",{staticClass:"d-flex justify-center"},[a("div",{staticClass:"link d-flex caption justify-center text-center mt-3 mx-5",on:{click:function(t){return e.newEvent("Register")}}},[e._v("\n        Novo aqui? Crie seu registro.\n      ")]),a("div",{staticClass:"d-flex caption justify-center text-center mb-3"},[e._v("\n        Ou, se preferir...\n      ")]),a("v-btn",{staticClass:"white--text",attrs:{small:"",color:"red darken-1",width:"230"},on:{click:e.GoogleLogin}},[a("v-icon",{staticClass:"mx-1",attrs:{small:""}},[e._v("mdi-google")]),e._v(" Entrar com o Google\n      ")],1)],1)],1)],1)},st=[],it={data:function(){return{email:"",password:"",showPass:!1,valid:null,emailRules:[function(e){return!!e||"Forneça um e-mail"},function(e){return/.+@.+\..+/.test(e)||"E-mail inválido"}],passwordRules:[function(e){return e&&e.length>=8||"Senha inválida"}]}},methods:{FacebookLogin:function(){window.location="".concat("/api","/auth/facebook")},GoogleLogin:function(){window.location="".concat("/api","/auth/google")},login:function(){var e=this,t={username:this.email,password:this.password};u.a.post("/auth/login",t).then((function(t){e.$root.vtoast.show({message:"Login realizado com sucesso."});var a="admin"===t.data?"Dashboard":"Cliente";e.$router.push(a)})).catch((function(){e.$root.vtoast.show({message:"Falha no login do usuário",color:"red lighten-2",icon:"mdi-account-alert"})}))},newEvent:function(e){this.$emit(e)}}},rt=it,ct=(a("1a51"),Object(p["a"])(rt,nt,st,!1,null,"0a3b729b",null)),lt=ct.exports;f()(ct,{VBtn:b["a"],VCard:x["a"],VCardActions:ne["a"],VCardText:ne["b"],VCardTitle:ne["c"],VDivider:C["a"],VForm:Se["a"],VIcon:F["a"],VRow:ve["a"],VTextField:Re["a"]});var dt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{staticClass:"pa-2",attrs:{width:"300px"}},[a("v-card-title",{staticClass:"d-flex justify-center"},[e._v("\n    Recuperação de senha\n  ")]),a("v-divider"),a("v-card-text",[a("v-form",{model:{value:e.form1,callback:function(t){e.form1=t},expression:"form1"}},[a("v-text-field",{attrs:{"prepend-icon":"mdi-email-outline",label:"Digite seu e-mail",rules:e.emailRules,required:"",outlined:"",dense:"",disabled:e.disableMail},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.requestToken.apply(null,arguments)}},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),a("div",{staticClass:"d-flex justify-center mb-3"},[a("v-btn",{attrs:{disabled:e.disableMail||!e.form1,color:"blue","min-width":"150px",small:""},on:{click:e.requestToken}},[e._v("Enviar código")])],1)],1),a("transition",{attrs:{name:"slide"}},[e.sentCode?a("v-form",{model:{value:e.form2,callback:function(t){e.form2=t},expression:"form2"}},[a("v-divider",{staticClass:"mb-4 mt-4"}),a("v-text-field",{attrs:{"prepend-icon":"mdi-account-key-outline",label:"Token",rules:e.tokenRules,outlined:"",dense:""},model:{value:e.code,callback:function(t){e.code=t},expression:"code"}}),a("v-text-field",{attrs:{"prepend-icon":"mdi-shield-key","append-icon":e.showPass?"mdi-eye":"mdi-eye-off",label:"Nova senha",rules:e.passwordRules,type:e.showPass?"text":"password",outlined:"",dense:""},on:{"click:append":function(t){e.showPass=!e.showPass}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),a("v-text-field",{attrs:{"prepend-icon":"mdi-shield-key","append-icon":e.showPass2?"mdi-eye":"mdi-eye-off",type:e.showPass2?"text":"password",label:"Repita a senha",rules:e.passwordCheckRules,outlined:"",dense:""},on:{"click:append":function(t){e.showPass2=!e.showPass2}},model:{value:e.password2,callback:function(t){e.password2=t},expression:"password2"}}),a("div",{staticClass:"d-flex justify-center"},[a("v-btn",{attrs:{disabled:!e.form2,color:"green","min-width":"150px",small:""},on:{click:e.changePassword}},[e._v("Redefinir senha")])],1)],1):e._e()],1)],1),a("v-divider"),a("v-card-actions",{staticClass:"justify-center mt-2"},[a("v-btn",{attrs:{"min-width":"150px",color:"red darken-2",small:""},on:{click:e.returnToLogin}},[e._v("\n      Cancelar")])],1)],1)},ut=[],mt={data:function(){var e=this;return{form1:!1,form2:!1,sentCode:!1,email:"",code:"",password:"",password2:"",disableMail:!1,showPass:!1,showPass2:!1,emailRules:[function(e){return!!e||"Forneça um e-mail"},function(e){return/.+@.+\..+/.test(e)||"E-mail inválido"}],passwordRules:[function(e){return e&&e.length>=8||"Senha inválida"}],tokenRules:[function(e){return e&&e.length>=20||"Token inválido"}],passwordCheckRules:[function(e){return e&&e.length>=8||"Senha muito curta"},function(){return e.password===e.password2||"Senhas inválida"}]}},methods:{returnToLogin:function(){this.$emit("Login")},requestToken:function(){var e=this,t={email:this.email};this.disableMail=!0,u.a.post("/users/recoverPassword",t).then((function(t){e.sentCode=!0,e.$root.vtoast.show({message:t.data})})).catch((function(t){e.disableMail=!1,e.$root.vtoast.show({color:"red",message:t.response.data})}))},changePassword:function(){var e=this;if(this.password!=this.password2)return this.$root.vtoast.show({color:"red",message:"Confira sua senha."});var t={email:this.email,token:this.code,password:this.password};u.a.post("/users/resetPassword",t).then((function(t){e.$root.vtoast.show({message:t.data}),e.$emit("Login")})).catch((function(t){e.$root.vtoast.show({color:"red",message:t.response.data})}))}}},vt=mt,pt=(a("f821"),Object(p["a"])(vt,dt,ut,!1,null,"1f8ce2e8",null)),ht=pt.exports;f()(pt,{VBtn:b["a"],VCard:x["a"],VCardActions:ne["a"],VCardText:ne["b"],VCardTitle:ne["c"],VDivider:C["a"],VForm:Se["a"],VTextField:Re["a"]});var ft=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{staticClass:"pa-2",attrs:{width:"300px"}},[a("v-card-title",{staticClass:"d-flex justify-center"},[e._t("default",(function(){return[e._v(" Registre-se ")]}))],2),a("v-divider",{staticClass:"mb-2"}),a("v-card-text",{staticClass:"mb-n3"},[a("v-alert",{attrs:{dense:"",color:"error lighten-2",border:"top",icon:"mdi-error",dismissible:""},model:{value:e.erro,callback:function(t){e.erro=t},expression:"erro"}},[e._v(e._s(e.msgErro))]),a("v-form",{ref:"form",model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-text-field",{attrs:{"prepend-icon":"mdi-account",label:"Nome",required:"",outlined:"",dense:"",rules:e.nameRules},model:{value:e.nome,callback:function(t){e.nome=t},expression:"nome"}}),a("v-text-field",{attrs:{"prepend-icon":"mdi-email-outline",label:"E-mail",required:"",outlined:"",dense:"",rules:e.emailRules},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),a("v-text-field",{attrs:{"prepend-icon":"mdi-shield-key","append-icon":e.showPass?"mdi-eye":"mdi-eye-off",label:"Escolha uma senha",required:"",type:e.showPass?"text":"password",outlined:"",dense:"",rules:e.passwordRules},on:{"click:append":function(t){e.showPass=!e.showPass}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),a("v-text-field",{attrs:{"prepend-icon":"mdi-shield-key-outline","append-icon":e.showCheck?"mdi-eye":"mdi-eye-off",label:"Digite a senha novamente",required:"",type:e.showCheck?"text":"password",outlined:"",dense:"",rules:e.passwordCheckRules},on:{"click:append":function(t){e.showCheck=!e.showCheck}},model:{value:e.passwordCheck,callback:function(t){e.passwordCheck=t},expression:"passwordCheck"}}),e._t("password")],2)],1),a("v-divider"),a("v-card-actions",{staticClass:"justify-center mt-2"},[a("v-btn",{attrs:{color:"red darken-2","min-width":"100px",small:""},on:{click:e.returnToLogin}},[e._v("Cancelar")]),a("v-spacer"),a("v-btn",{attrs:{disabled:!e.valid,"min-width":"100px",color:"green",small:""},on:{click:e.register}},[e._v("Registrar")])],1)],1)},gt=[],bt={data:function(){var e=this;return{valid:!1,nome:"",email:"",password:"",showPass:!1,passwordCheck:"",showCheck:!1,emailRules:[function(e){return!!e||"Forneça um e-mail"},function(e){return/.+@.+\..+/.test(e)||"E-mail inválido"}],nameRules:[function(e){return!!e||"Informe seu nome"},function(e){return e&&e.length>=3||"Nome deve ter ao menos 3 caracteres"}],passwordRules:[function(e){return e&&e.length>=8||"Senha inválida"}],passwordCheckRules:[function(e){return e&&e.length>=8||"Senha muito curta"},function(){return e.password===e.passwordCheck||"Senhas inválida"}],erro:!1,msgErro:""}},methods:{returnToLogin:function(){this.$emit("Login")},register:function(){var e=this,t={name:this.nome,email:this.email,password:this.password};u.a.post("/users/createUser",t).then((function(){e.$root.vtoast.show({message:"Usuário criado com sucesso."}),e.$emit("Login")})).catch((function(t){e.erro=!0,e.msgErro=t.response.data}))}}},xt=bt,Ct=a("0798"),_t=Object(p["a"])(xt,ft,gt,!1,null,"a25aadfe",null),wt=_t.exports;f()(_t,{VAlert:Ct["a"],VBtn:b["a"],VCard:x["a"],VCardActions:ne["a"],VCardText:ne["b"],VCardTitle:ne["c"],VDivider:C["a"],VForm:Se["a"],VSpacer:P["a"],VTextField:Re["a"]});var kt={components:{LoginCard:lt,ForgotPass:ht,RegisterCard:wt},data:function(){return{email:"",password:"",valid:null,modo:1}},methods:{FacebookLogin:function(){window.location="".concat("/api","/auth/facebook")},GoogleLogin:function(){window.location="".concat("/api","/auth/google")},changeToPass:function(){this.modo=3},changeToRegister:function(){this.modo=2},changeToLogin:function(){this.modo=1}}},yt=kt,jt=(a("0abd"),Object(p["a"])(yt,at,ot,!1,null,"4599bd02",null)),Vt=jt.exports;f()(jt,{VContainer:A["a"],VSpacer:P["a"]});var At=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"cardBG fill-height d-flex justify-center py-3"},[a("v-card",{attrs:{width:"90vw"}},[a("v-card-title",{staticClass:"justify-center"},[e._v(" Área do cliente ")]),a("v-divider"),a("v-card-text",[a("Projetos")],1)],1)],1)},Tt=[],Pt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",[e.budgets.length?a("v-card-title",{staticClass:"py-3 my-0"},[a("v-text-field",{staticClass:"white",staticStyle:{"max-width":"600px"},attrs:{outlined:"",dense:"","append-icon":"mdi-magnify",label:"Busca","hide-details":""},model:{value:e.busca,callback:function(t){e.busca=t},expression:"busca"}}),a("v-spacer")],1):e._e(),e.budgets.length?a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.budgetHeader,items:e.budgets,expanded:e.expanded,dense:"","show-expand":"",search:e.busca,"item-key":"_id",loading:e.loading,"loading-text":"Carregando serviços...","no-data-text":"Não há serviços a exibir...","items-per-page":5,"footer-props":{"items-per-page-all-text":"Todos","items-per-page-text":"Serviços por página:","items-per-page-options":[5,10,15,-1]},"header-props":{"sort-by-text":"Organizar por"}},on:{"update:expanded":function(t){e.expanded=t}},scopedSlots:e._u([{key:"expanded-item",fn:function(t){var o=t.headers,n=t.item;return[a("td",{attrs:{colspan:o.length}},[n.anexos.length?a("div",{staticClass:"my-2"},[a("v-simple-table",[a("thead",[a("tr",[a("th",[e._v("Nome do arquivo")]),a("th",[e._v("Validade")]),a("th",[e._v("Download")])])]),e._l(n.anexos,(function(t){return a("tr",{key:t._id},[a("td",[e._v(e._s(t.filename))]),a("td",[e._v(e._s(t.validade))]),a("td",[a("v-btn",{attrs:{icon:"",color:"blue"},on:{click:function(a){return e.downloadFile(t)}}},[a("v-icon",{attrs:{small:""}},[e._v("mdi-file")])],1)],1)])}))],2)],1):a("div",[e._v("Projeto não possui arquivos vinculados.")])])]}}],null,!1,2992207032)}):e._e(),e.budgets.length?e._e():a("div",[e._v("\n    Você não possui serviços cadastrados no sistema\n  ")])],1)},$t=[],Et=(a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),{computed:{budgetHeader:function(){var e=[{text:"Tipo",value:"tipoProjeto",sortable:!1},{text:"Cliente",value:"client.name",sortable:!1},{text:"Responsável",value:"profissionalHabilitado.name",sortable:!1},{text:"Contrato",value:"contrato",sortable:!1},{text:"Anexos",value:"data-table-expand",sortable:!1}];return e}},data:function(){return{budgets:[],expanded:[],loading:!0,busca:""}},methods:{FetchBudgets:function(){var e=this;u.a.get("/budget/byId").then((function(t){console.log("Budgets:",t.data),e.budgets=t.data,e.loading=!1})).catch((function(t){console.log(t.data),e.loading=!1}))},downloadFile:function(e){var t=this;u.a.post("/budget/anexo",{file:e},{responseType:"blob"}).then((function(t){var a=window.URL.createObjectURL(new Blob([t.data])),o=document.createElement("a");o.href=a,o.setAttribute("download",e.filename),document.body.appendChild(o),o.click()})).catch((function(e){t.$root.vtoast.show({color:"orange",message:e.response.data})}))}},mounted:function(){this.FetchBudgets()}}),Dt=Et,St=a("8fea"),Rt=a("1f4f"),Ot=Object(p["a"])(Dt,Pt,$t,!1,null,"ba903a68",null),Ft=Ot.exports;f()(Ot,{VBtn:b["a"],VCard:x["a"],VCardTitle:ne["c"],VDataTable:St["a"],VIcon:F["a"],VSimpleTable:Rt["a"],VSpacer:P["a"],VTextField:Re["a"]});var qt={components:{Projetos:Ft}},Bt=qt,Ut=Object(p["a"])(Bt,At,Tt,!1,null,"bde3e19e",null),Nt=Ut.exports;f()(Ut,{VCard:x["a"],VCardText:ne["b"],VCardTitle:ne["c"],VDivider:C["a"]});var It=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"cardBG fill-height d-flex justify-center py-3"},[a("v-card",{attrs:{width:"90vw"}},[a("v-card-title",{staticClass:"justify-center"},[e._v("\n      Área do administrador\n    ")]),a("v-divider"),a("v-card-text",[a("v-expansion-panels",{attrs:{multiple:"",value:e.openPanels}},[a("v-expansion-panel",[a("v-expansion-panel-header",{attrs:{color:"color2 white--text"}},[e._v("\n            Mensagens\n          ")]),a("v-expansion-panel-content",{staticClass:"py-3 mx-n3"},[a("Messages")],1)],1),a("v-expansion-panel",[a("v-expansion-panel-header",{attrs:{color:"color3 darken-2 white--text"}},[e._v("\n            Projetos\n          ")]),a("v-expansion-panel-content",{staticClass:"mx-n3 py-3"},[a("Projetos",{key:e.projectKey})],1)],1),a("v-expansion-panel",[a("v-expansion-panel-header",{attrs:{color:"color1 white--text"}},[e._v("\n            Clientes\n          ")]),a("v-expansion-panel-content",{staticClass:"mx-n3 py-3"},[a("Users",{key:e.userKey,attrs:{tipo:"cliente"},on:{usersChanged:e.reloadUsers,FetchProjects:e.reloadProjects}})],1)],1),a("v-expansion-panel",[a("v-expansion-panel-header",{attrs:{color:"color1 darken-2 white--text"}},[e._v("\n            Administradores\n          ")]),a("v-expansion-panel-content",{staticClass:"mx-n3 py-3"},[a("Users",{key:e.adminKey,attrs:{tipo:"admin"},on:{usersChanged:e.reloadUsers}})],1)],1)],1)],1)],1)],1)},Lt=[],zt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.messageHeader,items:e.messages,expanded:e.expanded,"show-expand":"",dense:"","single-expand":"","item-key":"_id",loading:e.loading,"loading-text":"Carregando mensagens...","no-data-text":"Não há mensagens a exibir...","items-per-page":5,"footer-props":{"items-per-page-all-text":"Todas","items-per-page-text":"Mensagens por página:","items-per-page-options":[5,10,15,-1]},"header-props":{"sort-by-text":"Organizar por"}},on:{"update:expanded":function(t){e.expanded=t}},scopedSlots:e._u([{key:"item._id",fn:function(t){var a=t.item;return[e._v("\n      "+e._s(e.convertToDate(a._id))+"\n    ")]}},{key:"item.read",fn:function(t){var o=t.item;return[a("v-btn",{attrs:{icon:""},on:{click:function(t){return e.markAnswered(o._id)}}},[a("v-icon",{attrs:{small:"",color:e.iconColor(o.read)}},[e._v("mdi-email-check")])],1)]}},{key:"expanded-item",fn:function(t){var o=t.headers,n=t.item;return[a("td",{attrs:{colspan:o.length}},[a("div",{staticClass:"my-2",domProps:{innerHTML:e._s(e.adjustText(n))}})])]}}],null,!0)})],1)},Mt=[],Ht=(a("a434"),a("c740"),a("25f0"),a("99af"),a("ac1f"),a("5319"),{computed:{messageHeader:function(){var e=[{text:"Recebida em",value:"_id",sortable:!0},{text:"Lida?",value:"read",sortable:!0},{text:"Visualizar",value:"data-table-expand",sortable:!1}];return window.innerWidth>600&&e.splice(1,0,{text:"Enviada por",value:"sentBy",sortable:!1}),window.innerWidth>960&&e.splice(2,0,{text:"E-mail",value:"email",sortable:!1}),e}},data:function(){return{messages:[],expanded:[],loading:!0}},methods:{FetchMessages:function(){var e=this;u.a.get("/message").then((function(t){e.messages=t.data.msg,e.loading=!1})).catch((function(t){console.log(t.data),e.loading=!1}))},markAnswered:function(e){var t=this.messages.findIndex((function(t){return t._id===e}));this.messages[t].read=!this.messages[t].read,u.a.put("/message/".concat(e),{read:this.messages[t].read}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))},convertToDate:function(e){return new Date(1e3*parseInt(e.toString().substring(0,8),16)).toLocaleString("pt-br")},iconColor:function(e){return e?"color2":"grey"},adjustText:function(e){return"<strong>Mensagem: </strong><br/>".concat(e.content.replace("\n","<br />"),"<br />").concat(e.sentBy,"<br /><br /><strong>Telefone:</strong> ").concat(e.phone,"<br /><strong>Email:</strong> ").concat(e.email,"<br />")}},mounted:function(){this.FetchMessages()}}),Gt=Ht,Kt=Object(p["a"])(Gt,zt,Mt,!1,null,"493605e2",null),Jt=Kt.exports;f()(Kt,{VBtn:b["a"],VDataTable:St["a"],VIcon:F["a"]});var Wt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{attrs:{width:"100%"}},[a("v-card-title",{staticClass:"py-3 my-0"},[a("v-text-field",{staticClass:"white",staticStyle:{"max-width":"600px"},attrs:{outlined:"",dense:"","append-icon":"mdi-magnify",label:"Busca","hide-details":""},model:{value:e.busca,callback:function(t){e.busca=t},expression:"busca"}}),a("v-spacer"),"cliente"===e.tipo?a("v-btn",{staticClass:"my-2",attrs:{small:"",color:"color1 white--text"},on:{click:e.createUser}},[e._v("Inserir cliente")]):e._e()],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.usersHeader,items:e.users,search:e.busca,dense:"","item-key":"_id",loading:e.loading,"loading-text":"Carregando usuários...","no-data-text":"Não há usuários a exibir...","items-per-page":10,"footer-props":{"items-per-page-all-text":"Todos","items-per-page-text":"Usuários por página:","items-per-page-options":[5,10,15,-1]},"header-props":{"sort-by-text":"Organizar por"}},scopedSlots:e._u([{key:"item._id",fn:function(t){var a=t.item;return[e._v("\n      "+e._s(e.convertToDate(a._id))+"\n    ")]}},{key:"item.actions",fn:function(t){var o=t.item;return[a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,s=t.attrs;return["admin"===o.role?a("v-btn",e._g(e._b({attrs:{icon:""},on:{click:function(t){return e.demoteUser(o)}}},"v-btn",s,!1),n),[a("v-icon",{attrs:{small:"",color:"red"}},[e._v("mdi-account-minus")])],1):e._e()]}}],null,!0)},[a("span",[e._v("Remover acesso")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,s=t.attrs;return["cliente"===o.role?a("v-btn",e._g(e._b({attrs:{icon:""},on:{click:function(t){return e.editUser(o)}}},"v-btn",s,!1),n),[a("v-icon",{attrs:{small:"",color:"purple"}},[e._v("mdi-account-edit")])],1):e._e()]}}],null,!0)},[a("span",[e._v("Editar cliente")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,s=t.attrs;return["cliente"===o.role?a("v-btn",e._g(e._b({attrs:{icon:""},on:{click:function(t){return e.createJob(o)}}},"v-btn",s,!1),n),[a("v-icon",{attrs:{small:"",color:"green"}},[e._v("mdi-folder-account")])],1):e._e()]}}],null,!0)},[a("span",[e._v("Novo projeto")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,s=t.attrs;return["cliente"===o.role?a("v-btn",e._g(e._b({attrs:{icon:""},on:{click:function(t){return e.promoteUser(o)}}},"v-btn",s,!1),n),[a("v-icon",{attrs:{small:"",color:"blue"}},[e._v("mdi-account-star")])],1):e._e()]}}],null,!0)},[a("span",[e._v("Tornar administrador")])])]}}],null,!0)}),a("v-dialog",{attrs:{"max-width":"500"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[e._v(e._s(e.cardTitle))]),a("v-card-text",{staticClass:"text-justify"},[e._v(e._s(e.cardText))]),a("v-divider"),a("v-card-actions",[a("v-btn",{attrs:{small:"",color:"red"},on:{click:function(t){e.dialog=!1}}},[e._v("Cancelar")]),a("v-spacer"),a("v-btn",{attrs:{small:"",color:"green"},on:{click:e.execAction}},[e._v("Confirmar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"500"},model:{value:e.userDialog,callback:function(t){e.userDialog=t},expression:"userDialog"}},[a("EditUser",{key:e.userKey,attrs:{user:e.user},on:{close:e.closeUser}})],1),a("v-dialog",{attrs:{"max-width":"500"},model:{value:e.projectDialog,callback:function(t){e.projectDialog=t},expression:"projectDialog"}},[a("NewProject",{key:e.activeAction.owner,attrs:{selectedUser:e.activeAction.owner},on:{close:e.closeProject}})],1)],1)},Xt=[],Yt=(a("4de4"),a("159b"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-card",[a("v-card-title",[e._v("Cliente")]),a("v-divider"),a("v-card-text",[a("v-form",[a("v-text-field",{attrs:{outlined:"",dense:"",label:"Nome do usuário"},model:{value:e.client.name,callback:function(t){e.$set(e.client,"name",t)},expression:"client.name"}}),a("v-text-field",{attrs:{outlined:"",dense:"",label:"E-mail de login"},model:{value:e.client.email,callback:function(t){e.$set(e.client,"email",t)},expression:"client.email"}}),a("v-divider",{staticClass:"mb-6"}),a("v-text-field",{attrs:{outlined:"",dense:"",label:"CNPJ"},model:{value:e.client.cnpj,callback:function(t){e.$set(e.client,"cnpj",t)},expression:"client.cnpj"}}),a("v-text-field",{attrs:{outlined:"",dense:"",label:"Inscrição estadual"},model:{value:e.client.inscricao,callback:function(t){e.$set(e.client,"inscricao",t)},expression:"client.inscricao"}}),a("v-text-field",{attrs:{outlined:"",dense:"",label:"Razão social"},model:{value:e.client.razaoSocial,callback:function(t){e.$set(e.client,"razaoSocial",t)},expression:"client.razaoSocial"}}),a("v-divider",{staticClass:"mb-6"}),a("v-select",{attrs:{items:e.client.addr,"item-text":"nome","item-value":"index",label:"Endereço","no-data-text":"Não há endereço cadastrado.",dense:"",outlined:"",filled:"","append-outer-icon":"mdi-plus"},on:{"click:append-outer":e.insertAddr,change:e.loadAddr},model:{value:e.selectedAddr,callback:function(t){e.selectedAddr=t},expression:"selectedAddr"}}),e.selectedAddr?a("section",[a("v-row",[a("v-col",{staticClass:"mb-n4 pb-0 col-8"},[a("v-text-field",{attrs:{outlined:"",dense:"",label:"Nome"},model:{value:e.selectedAddr.nome,callback:function(t){e.$set(e.selectedAddr,"nome",t)},expression:"selectedAddr.nome"}})],1),a("v-col",{staticClass:"mb-n4 pb-0 col-2"},[a("v-btn",{attrs:{icon:""},on:{click:e.mainAddress}},[a("v-icon",{attrs:{color:e.addrIndex===e.client.mainAddress?"red":"blue"}},[e._v("mdi-star-outline")])],1)],1),a("v-col",{staticClass:"mb-n4 pb-0 col-2"},[a("v-btn",{attrs:{icon:""},on:{click:e.removeAddress}},[a("v-icon",{attrs:{color:"orange"}},[e._v("mdi-trash-can")])],1)],1),a("v-col",{staticClass:"mb-n4 pb-0 col-12"},[a("v-text-field",{attrs:{outlined:"",dense:"",label:"Rua"},model:{value:e.selectedAddr.rua,callback:function(t){e.$set(e.selectedAddr,"rua",t)},expression:"selectedAddr.rua"}})],1),a("v-col",{staticClass:"mb-n4 pb-0 col-4"},[a("v-text-field",{attrs:{outlined:"",dense:"",label:"Número"},model:{value:e.selectedAddr.numero,callback:function(t){e.$set(e.selectedAddr,"numero",t)},expression:"selectedAddr.numero"}})],1),a("v-col",{staticClass:"mb-n4 pb-0 col-8"},[a("v-text-field",{attrs:{outlined:"",dense:"",label:"Complemento"},model:{value:e.selectedAddr.complemento,callback:function(t){e.$set(e.selectedAddr,"complemento",t)},expression:"selectedAddr.complemento"}})],1),a("v-col",{staticClass:"mb-n4 pb-0 col-6"},[a("v-text-field",{attrs:{outlined:"",dense:"",label:"Bairro"},model:{value:e.selectedAddr.bairro,callback:function(t){e.$set(e.selectedAddr,"bairro",t)},expression:"selectedAddr.bairro"}})],1),a("v-col",{staticClass:"mb-n4 pb-0 col-6"},[a("v-text-field",{attrs:{outlined:"",dense:"",label:"CEP"},model:{value:e.selectedAddr.cep,callback:function(t){e.$set(e.selectedAddr,"cep",t)},expression:"selectedAddr.cep"}})],1),a("v-col",{staticClass:"mb-n4 pb-0 col-9"},[a("v-text-field",{attrs:{outlined:"",dense:"",label:"Cidade"},model:{value:e.selectedAddr.cidade,callback:function(t){e.$set(e.selectedAddr,"cidade",t)},expression:"selectedAddr.cidade"}})],1),a("v-col",{staticClass:"mb-n4 pb-0 col-3"},[a("v-text-field",{attrs:{outlined:"",dense:"",label:"Estado"},model:{value:e.selectedAddr.estado,callback:function(t){e.$set(e.selectedAddr,"estado",t)},expression:"selectedAddr.estado"}})],1)],1)],1):e._e(),a("v-divider",{staticClass:"my-6"}),a("v-select",{attrs:{items:e.client.contatos,"item-text":"nome","item-value":"index",label:"Contatos","no-data-text":"Não há contato cadastrado.",dense:"",outlined:"",filled:"","append-outer-icon":"mdi-plus"},on:{"click:append-outer":e.insertContact,change:e.loadContact},model:{value:e.selectedContact,callback:function(t){e.selectedContact=t},expression:"selectedContact"}}),e.selectedContact?a("section",[a("v-row",[a("v-col",{staticClass:"mb-n4 pb-0 col-8"},[a("v-text-field",{attrs:{outlined:"",dense:"",label:"Nome"},model:{value:e.selectedContact.nome,callback:function(t){e.$set(e.selectedContact,"nome",t)},expression:"selectedContact.nome"}})],1),a("v-col",{staticClass:"mb-n4 pb-0 col-2"},[a("v-btn",{attrs:{icon:""},on:{click:e.mainContact}},[a("v-icon",{attrs:{color:e.contactIndex===e.client.mainContact?"red":"blue"}},[e._v("mdi-star-outline")])],1)],1),a("v-col",{staticClass:"mb-n4 pb-0 col-2"},[a("v-btn",{attrs:{icon:""},on:{click:e.removeContact}},[a("v-icon",{attrs:{color:"orange"}},[e._v("mdi-trash-can")])],1)],1),a("v-col",{staticClass:"mb-n4 pb-0 col-12"},[a("v-text-field",{attrs:{outlined:"",dense:"",label:"Cargo"},model:{value:e.selectedContact.position,callback:function(t){e.$set(e.selectedContact,"position",t)},expression:"selectedContact.position"}})],1),a("v-col",{staticClass:"mb-n4 pb-0 col-12 col-md-4"},[a("v-text-field",{attrs:{outlined:"",dense:"",label:"Telefone"},model:{value:e.selectedContact.phone,callback:function(t){e.$set(e.selectedContact,"phone",t)},expression:"selectedContact.phone"}})],1),a("v-col",{staticClass:"mb-n4 pb-0 col-12 col-md-8"},[a("v-text-field",{attrs:{outlined:"",dense:"",label:"E-mail"},model:{value:e.selectedContact.email,callback:function(t){e.$set(e.selectedContact,"email",t)},expression:"selectedContact.email"}})],1)],1)],1):e._e(),a("v-divider",{staticClass:"mt-6 mb-4"}),a("v-card-actions",{staticClass:"d-flex"},[a("v-btn",{attrs:{small:"",color:"red"},on:{click:e.closeUser}},[e._v("Fechar")]),a("v-spacer"),a("v-btn",{attrs:{small:"",color:"green"},on:{click:e.saveUser}},[e._v("Salvar")])],1)],1)],1)],1),a("v-dialog",{attrs:{"max-width":"500"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[e._v(e._s(e.cardTitle))]),a("v-card-text",{staticClass:"text-justify"},[e._v(e._s(e.cardText))]),a("v-divider"),a("v-card-actions",[a("v-btn",{attrs:{small:"",color:"red"},on:{click:function(t){e.dialog=!1}}},[e._v("Cancelar")]),a("v-spacer"),a("v-btn",{attrs:{small:"",color:"green"},on:{click:e.execAction}},[e._v("Confirmar")])],1)],1)],1)],1)}),Qt=[],Zt={props:["user"],data:function(){return{selectedAddr:null,addrIndex:-1,selectedContact:null,contactIndex:-1,client:{cnpj:"",inscricao:"",razaoSocial:"",mainAddress:-1,mainContact:-1,addr:[],contatos:[]},dialog:!1,cardTitle:"",cardText:"",action:""}},methods:{insertAddr:function(){this.client.addr.push({nome:"Novo endereço",index:this.client.addr.length}),this.selectedAddr=this.client.addr[this.client.addr.length-1]},loadAddr:function(e){this.addrIndex=e,this.selectedAddr=this.client.addr[e]},insertContact:function(){this.client.contatos.push({nome:"Novo contato",index:this.client.contatos.length}),this.selectedContact=this.client.contatos[this.client.contatos.length-1]},loadContact:function(e){this.contactIndex=e,this.selectedContact=this.client.contatos[e]},mainContact:function(){this.client.mainContact=this.contactIndex},mainAddress:function(){this.client.mainAddress=this.addrIndex},removeAddress:function(){this.cardTitle="Remover endereço?",this.cardText="Tem certeza que deseja remover o endereço atual do cadastro?",this.action="removeAddr",this.dialog=!0},removeContact:function(e){this.cardTitle="Remover contato?",this.cardText="Tem certeza que deseja remover o contato atual do cadastro?",this.action="removeContact",this.dialog=!0},execAction:function(){"removeContact"===this.action?(this.client.contatos.splice(this.contactIndex,1),this.client.contatos.length&&(this.selectedContact=this.client.contatos[0])):(this.client.addr.splice(this.addrIndex,1),this.client.addr.length&&(this.selectedAddr=this.client.addr[0])),this.dialog=!1},saveUser:function(){var e=this,t=this.client._id?"put":"post",a=this.client._id?this.client._id:"adminUser";u.a[t]("/users/".concat(a),this.client).then((function(t){e.$root.vtoast.show({color:"green",message:t.data}),e.$emit("close",!0)})).catch((function(t){e.$root.vtoast.show({color:"orange",message:t.response.data})}))},closeUser:function(){this.$emit("close",!1)}},mounted:function(){this.user&&(this.client=this.user,this.client.mainAddress>=0?(this.selectedAddr=this.client.addr[this.client.mainAddress],this.addrIndex=this.client.mainAddress):this.client.addr.length&&(this.selectedAddr=this.client.addr[0]),this.client.mainContact>=0?(this.selectedContact=this.client.contatos[this.client.mainContact],this.contactIndex=this.client.mainContact):this.client.contatos.length&&(this.selectedContact=this.client.contatos[0]))}},ea=Zt,ta=a("169a"),aa=a("b974"),oa=Object(p["a"])(ea,Yt,Qt,!1,null,"ca314004",null),na=oa.exports;f()(oa,{VBtn:b["a"],VCard:x["a"],VCardActions:ne["a"],VCardText:ne["b"],VCardTitle:ne["c"],VCol:me["a"],VDialog:ta["a"],VDivider:C["a"],VForm:Se["a"],VIcon:F["a"],VRow:ve["a"],VSelect:aa["a"],VSpacer:P["a"],VTextField:Re["a"]});var sa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-card",{attrs:{color:"white","max-width":"500px"}},[a("v-card-title",[e._v("Cadastro de novo serviço")]),a("v-form",{ref:"form",model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-card-text",[a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{attrs:{cols:"12"}},[a("v-select",{attrs:{"prepend-icon":"mdi-account",label:"Cliente",rules:[e.rules.required],items:e.clients,"item-text":"name","item-value":"_id","no-data-text":"Não há clientes cadastrados.",outlined:"",required:""},model:{value:e.projeto.client,callback:function(t){e.$set(e.projeto,"client",t)},expression:"projeto.client"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-select",{attrs:{"prepend-icon":"mdi-file-cabinet",label:"Tipo de serviço",rules:[e.rules.required],items:e.tiposProjeto,outlined:"",required:""},model:{value:e.projeto.tipoProjeto,callback:function(t){e.$set(e.projeto,"tipoProjeto",t)},expression:"projeto.tipoProjeto"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{"prepend-icon":"mdi-file-document",outlined:"",label:"Número do contrato"},model:{value:e.projeto.contrato,callback:function(t){e.$set(e.projeto,"contrato",t)},expression:"projeto.contrato"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-select",{attrs:{"prepend-icon":"mdi-shield-account",label:"Responsável técnico",rules:[e.rules.required],items:e.admins,"item-text":"name","item-value":"_id",outlined:"",required:""},model:{value:e.projeto.profissionalHabilitado,callback:function(t){e.$set(e.projeto,"profissionalHabilitado",t)},expression:"projeto.profissionalHabilitado"}})],1)],1)],1),a("v-card-actions",{staticClass:"mt-n4 pb-4"},[a("v-btn",{staticClass:"ml-2",attrs:{color:"red darken-1 white--text"},on:{click:e.closeDialog}},[e._v("\n          Cancelar\n        ")]),a("v-spacer"),a("v-btn",{staticClass:"mr-2",attrs:{color:"green darken-1 white--text",loading:e.isBusy,disabled:e.isBusy,type:"submit"},on:{click:e.sendData}},[e._v("\n          Inserir serviço\n        ")])],1)],1)],1)],1)},ia=[],ra={props:["selectedUser"],data:function(){return{projeto:{client:"",tipoProjeto:"",contrato:"",profissionalHabilitado:""},clients:["Posto Xuá","Cliente 2"],admins:["Felipe","Douglas"],tiposProjeto:["Projeto","Inspeção","Perícia"],isBusy:!0,valid:!0,rules:{required:function(e){return!!e||"Campo deve ser preenchido."}}}},methods:{sendData:function(){var e=this;this.isBusy=!0,u.a.post("/budget/createBudget",this.projeto).then((function(t){e.$root.vtoast.show({color:"green",message:t.data}),e.isBusy=!1,e.$emit("close",!0)})).catch((function(t){e.$root.vtoast.show({color:"orange",message:t.response.data.erro}),e.isBusy=!1}))},closeDialog:function(){this.$emit("close")},fetchUsers:function(){var e=this;u.a.get("/users").then((function(t){e.clients=t.data.filter((function(e){return"cliente"===e.role})),e.admins=t.data.filter((function(e){return"admin"===e.role})),e.selectedUser&&(e.projeto.client=e.selectedUser),e.isBusy=!1})).catch((function(t){e.$root.vtoast.show({color:"orange",message:t.response.data})}))}},mounted:function(){this.fetchUsers()}},ca=ra,la=Object(p["a"])(ca,sa,ia,!1,null,"379b2022",null),da=la.exports;f()(la,{VBtn:b["a"],VCard:x["a"],VCardActions:ne["a"],VCardText:ne["b"],VCardTitle:ne["c"],VCol:me["a"],VForm:Se["a"],VRow:ve["a"],VSelect:aa["a"],VSpacer:P["a"],VTextField:Re["a"]});var ua={props:["tipo"],components:{EditUser:na,NewProject:da},computed:{usersHeader:function(){var e=[{text:"Nome",value:"name",sortable:!1},{text:"E-mail",value:"email",sortable:!1},{text:"Cadastro",value:"tipo",sortable:!1},{text:"Ações",value:"actions",sortable:!1,align:"center"}];return e}},data:function(){return{users:[],loading:!0,busca:"",cardTitle:"",cardText:"",dialog:!1,activeAction:{owner:""},userDialog:!1,projectDialog:!1,user:null,userKey:Math.random()}},methods:{fetchUsers:function(){var e=this;u.a.get("/users").then((function(t){e.users=t.data.filter((function(t){return t.role===e.tipo})),e.users.forEach((function(e){return e.tipo=e.googleId?"Google":"Local"})),e.loading=!1})).catch((function(t){e.$root.vtoast.show({color:"orange",message:t.response.data}),e.loading=!1}))},promoteUser:function(e){this.dialog=!0,this.cardTitle="Promover usuário",this.cardText="Tem certeza que deseja promover o usuário ".concat(e.name," (").concat(e.email,") para perfil de administrador do sistema?"),this.activeAction={method:"put",target:"/users/".concat(e._id),payload:{role:"admin"},user:e._id}},demoteUser:function(e){this.dialog=!0,this.cardTitle="Remover privilégio",this.cardText="Tem certeza que deseja remover o privilégio de administrador do usuário ".concat(e.name," (").concat(e.email,")?"),this.activeAction={method:"put",target:"/users/".concat(e._id),payload:{role:"cliente"},user:e._id}},createJob:function(e){this.dialog=!0,this.cardTitle="Criar novo projeto",this.cardText="Criar novo projeto vinculado ao cliente ".concat(e.name," (").concat(e.email,")?"),this.activeAction={target:"/jobs",owner:e._id}},execAction:function(){var e=this;if("/jobs"===this.activeAction.target)return this.dialog=!1,void(this.projectDialog=!0);u.a[this.activeAction.method]("".concat(this.activeAction.target),this.activeAction.payload).then((function(t){if(e.$root.vtoast.show({color:"green",message:t.data}),e.$emit("usersChanged"),e.activeAction.user){var a=e.users.findIndex((function(t){return t._id===e.activeAction.user}));e.users[a].role=e.activeAction.payload.role}e.dialog=!1})).catch((function(t){e.$root.vtoast.show({color:"orange",message:t.response.data})}))},closeUser:function(e){e&&this.fetchUsers(),this.userDialog=!1},closeProject:function(e){e&&this.$emit("FetchProjects"),this.projectDialog=!1},editUser:function(e){this.user=e,this.userKey=e._id,this.userDialog=!0},createUser:function(){this.user=null,this.userKey=Math.random(),this.userDialog=!0}},mounted:function(){this.fetchUsers()}},ma=ua,va=a("3a2f"),pa=Object(p["a"])(ma,Wt,Xt,!1,null,"1367a050",null),ha=pa.exports;f()(pa,{VBtn:b["a"],VCard:x["a"],VCardActions:ne["a"],VCardText:ne["b"],VCardTitle:ne["c"],VDataTable:St["a"],VDialog:ta["a"],VDivider:C["a"],VIcon:F["a"],VSpacer:P["a"],VTextField:Re["a"],VTooltip:va["a"]});var fa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",[a("v-card-title",{staticClass:"py-3 my-0"},[a("v-text-field",{staticClass:"white",staticStyle:{"max-width":"600px"},attrs:{outlined:"",dense:"","append-icon":"mdi-magnify",label:"Busca","hide-details":""},model:{value:e.busca,callback:function(t){e.busca=t},expression:"busca"}}),a("v-spacer"),a("v-btn",{staticClass:"my-2",attrs:{small:"",color:"color1 white--text"},on:{click:e.createJob}},[e._v("Inserir serviço")])],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.budgetHeader,items:e.budgets,expanded:e.expanded,dense:"","show-expand":"",search:e.busca,"item-key":"_id",loading:e.loading,"loading-text":"Carregando serviços...","no-data-text":"Não há serviços a exibir...","items-per-page":5,"footer-props":{"items-per-page-all-text":"Todos","items-per-page-text":"Serviços por página:","items-per-page-options":[5,10,15,-1]},"header-props":{"sort-by-text":"Organizar por"}},on:{"update:expanded":function(t){e.expanded=t}},scopedSlots:e._u([{key:"item.actions",fn:function(t){var o=t.item;return[a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,s=t.attrs;return[a("v-btn",e._g(e._b({attrs:{disabled:"",icon:""},on:{click:function(t){return e.editProject(o)}}},"v-btn",s,!1),n),[a("v-icon",{attrs:{small:"",color:"blue"}},[e._v("mdi-database-edit")])],1)]}}],null,!0)},[a("span",[e._v("Editar serviço")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,s=t.attrs;return[a("v-btn",e._g(e._b({attrs:{icon:""},on:{click:function(t){return e.insertAttachment(o)}}},"v-btn",s,!1),n),[a("v-icon",{attrs:{small:"",color:"green"}},[e._v("mdi-attachment")])],1)]}}],null,!0)},[a("span",[e._v("Inserir anexo")])])]}},{key:"expanded-item",fn:function(t){var o=t.headers,n=t.item;return[a("td",{attrs:{colspan:o.length}},[n.anexos.length?a("div",{staticClass:"my-2"},[a("v-simple-table",[a("thead",[a("tr",[a("th",[e._v("Download")]),a("th",[e._v("Nome do arquivo")]),a("th",[e._v("Validade")]),a("th",[e._v("Excluir")])])]),e._l(n.anexos,(function(t){return a("tr",{key:t._id},[a("td",[a("v-btn",{attrs:{icon:"",color:"blue"},on:{click:function(a){return e.downloadFile(t)}}},[a("v-icon",{attrs:{small:""}},[e._v("mdi-file")])],1)],1),a("td",[e._v(e._s(t.filename))]),a("td",[e._v(e._s(t.validade))]),a("td",[a("v-btn",{attrs:{icon:"",disabled:"",color:"red"},on:{click:function(a){return e.removeFile(n._id,t._id)}}},[a("v-icon",{attrs:{small:""}},[e._v("mdi-trash-can")])],1)],1)])}))],2)],1):a("div",[e._v("Projeto não possui anexos.")])])]}}],null,!0)}),a("v-dialog",{attrs:{"max-width":"500"},model:{value:e.projectDialog,callback:function(t){e.projectDialog=t},expression:"projectDialog"}},[a("NewProject",{key:e.selectedProjectOwner,attrs:{selectedUser:e.selectedProjectOwner},on:{close:e.closeProject}})],1),a("v-dialog",{attrs:{"max-width":"700"},model:{value:e.attachDialog,callback:function(t){e.attachDialog=t},expression:"attachDialog"}},[a("NewAttachment",{attrs:{id:e.attachId},on:{close:e.closeAttach}})],1)],1)},ga=[],ba=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-card",{attrs:{color:"white","max-width":"700px"}},[a("v-card-title",[e._v("Envio de documentação")]),a("v-form",{ref:"form"},[a("v-card-text",[a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{attrs:{cols:"12"}},[a("v-file-input",{attrs:{dense:"",outlined:"",label:"Anexo"},model:{value:e.attachment,callback:function(t){e.attachment=t},expression:"attachment"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,n=t.attrs;return[a("v-text-field",e._g(e._b({attrs:{value:e.validadeFormatada,label:"Validade dos dados","prepend-icon":"mdi-calendar",readonly:"",outlined:"",dense:""}},"v-text-field",n,!1),o))]}}]),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[a("v-date-picker",{attrs:{locale:"pt-br"},on:{input:function(t){e.menu=!1}},model:{value:e.validade,callback:function(t){e.validade=t},expression:"validade"}})],1)],1)],1)],1),a("v-card-actions",{staticClass:"mt-n4 pb-4"},[a("v-btn",{staticClass:"ml-2",attrs:{color:"red darken-1 white--text"},on:{click:e.closeDialog}},[e._v("\n          Cancelar\n        ")]),a("v-spacer"),a("v-btn",{staticClass:"mr-2",attrs:{color:"green darken-1 white--text",loading:e.isBusy,disabled:e.isBusy||!e.formOk,type:"submit"},on:{click:e.sendData}},[e._v("\n          Enviar documentação\n        ")])],1)],1)],1)],1)},xa=[],Ca=a("5a0c"),_a=a.n(Ca),wa={data:function(){return{isBusy:!1,attachment:null,menu:!1,validade:null}},props:{id:{type:String,default:""}},computed:{validadeFormatada:function(){return this.validade?_a()(this.validade).format("DD/MM/YYYY"):""},formOk:function(){return this.attachment&&this.validade}},methods:{sendData:function(){var e=this;this.isBusy=!0;var t=new FormData;t.append("attachment",this.attachment),t.append("expiration",this.validadeFormatada),t.append("id",this.id),u.a.post("/budget/insertAttachment",t,{headers:{"Content-Type":"multipart/form-data"}}).then((function(t){e.$root.vtoast.show({color:"green",message:t.data}),e.isBusy=!1,e.attachment=null,e.validade=null,e.$emit("close",!0)})).catch((function(t){e.$root.vtoast.show({color:"orange",message:t.response.data.erro}),e.isBusy=!1}))},closeDialog:function(){this.$emit("close")}}},ka=wa,ya=a("2e4b"),ja=a("23a7"),Va=Object(p["a"])(ka,ba,xa,!1,null,"ae1fb94a",null),Aa=Va.exports;f()(Va,{VBtn:b["a"],VCard:x["a"],VCardActions:ne["a"],VCardText:ne["b"],VCardTitle:ne["c"],VCol:me["a"],VDatePicker:ya["a"],VFileInput:ja["a"],VForm:Se["a"],VMenu:w["a"],VRow:ve["a"],VSpacer:P["a"],VTextField:Re["a"]});var Ta={components:{NewProject:da,NewAttachment:Aa},computed:{budgetHeader:function(){var e=[{text:"Id.",value:"_id",sortable:!1},{text:"Tipo",value:"tipoProjeto",sortable:!1},{text:"Cliente",value:"client.name",sortable:!1},{text:"Responsável",value:"profissionalHabilitado.name",sortable:!1},{text:"Contrato",value:"contrato",sortable:!1},{text:"Ações",value:"actions",sortable:!1},{text:"Anexos",value:"data-table-expand",sortable:!1}];return e}},data:function(){return{budgets:[],expanded:[],loading:!0,busca:"",projectDialog:!1,selectedProjectOwner:null,attachDialog:!1,attachId:""}},methods:{FetchBudgets:function(){var e=this;u.a.get("/budget/all").then((function(t){e.budgets=t.data,e.loading=!1})).catch((function(t){console.log(t.data),e.loading=!1}))},editProject:function(e){console.log(e)},insertAttachment:function(e){this.attachId=e._id,this.attachDialog=!0},createJob:function(){this.projectDialog=!0},closeProject:function(){this.projectDialog=!1},closeAttach:function(e){this.attachDialog=!1,e&&this.FetchBudgets()},downloadFile:function(e){var t=this;u.a.post("/budget/anexo",{file:e},{responseType:"blob"}).then((function(t){var a=window.URL.createObjectURL(new Blob([t.data])),o=document.createElement("a");o.href=a,o.setAttribute("download",e.filename),document.body.appendChild(o),o.click()})).catch((function(e){t.$root.vtoast.show({color:"orange",message:e.response.data})}))},removeFile:function(e,t){console.log(e),console.log(t)}},mounted:function(){this.FetchBudgets()}},Pa=Ta,$a=Object(p["a"])(Pa,fa,ga,!1,null,"b7d0cce8",null),Ea=$a.exports;f()($a,{VBtn:b["a"],VCard:x["a"],VCardTitle:ne["c"],VDataTable:St["a"],VDialog:ta["a"],VIcon:F["a"],VSimpleTable:Rt["a"],VSpacer:P["a"],VTextField:Re["a"],VTooltip:va["a"]});var Da={components:{Messages:Jt,Users:ha,Projetos:Ea},data:function(){return{openPanels:[0,1],userKey:1e3,adminKey:2e3,projectKey:3e3}},methods:{reloadUsers:function(){this.userKey++,this.adminKey++},reloadProjects:function(){this.projectKey++}},mounted:function(){window.innerWidth<960&&(this.openPanels=[0])}},Sa=Da,Ra=a("cd55"),Oa=a("49e2"),Fa=a("c865"),qa=a("0393"),Ba=Object(p["a"])(Sa,It,Lt,!1,null,"4a73f510",null),Ua=Ba.exports;f()(Ba,{VCard:x["a"],VCardText:ne["b"],VCardTitle:ne["c"],VDivider:C["a"],VExpansionPanel:Ra["a"],VExpansionPanelContent:Oa["a"],VExpansionPanelHeader:Fa["a"],VExpansionPanels:qa["a"]});var Na=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},Ia=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"d-flex justify-center align-center fill-height text-center"},[a("h1",[e._v("\n    Ops..."),a("br"),e._v("\n    Página não encontrada\n  ")])])}],La=(a("1938"),{}),za=Object(p["a"])(La,Na,Ia,!1,null,"abae09b4",null),Ma=za.exports;o["a"].use(K["a"]);var Ha=[{path:"/",name:"Home",component:tt},{path:"/cliente",name:"Cliente",component:Nt,beforeEnter:function(e,t,a){u.a.get("auth/user").then((function(e){e.data.id?(W.state.user=e.data,a()):a({name:"Login"})})).catch((function(){a({name:"Login"})}))}},{path:"/dashboard",name:"Dashboard",component:Ua,beforeEnter:function(e,t,a){u.a.get("auth/user").then((function(e){e.data.acesso.includes("admin")?(W.state.user=e.data,a()):a({name:"Login"})})).catch((function(){a({name:"Login"})}))}},{path:"/login",name:"Login",component:Vt},{path:"*",name:"PNF",component:Ma}],Ga=new K["a"]({routes:Ha}),Ka=Ga,Ja=a("f309");o["a"].use(Ja["a"]);var Wa=new Ja["a"]({theme:{themes:{light:{primary:"#0B0500",color1:"#626D58",color2:"#307351",color3:"#AAD2BA",color4:"#2C2784",accent:"#8c9eff",error:"#b71c1c"}},options:{customProperties:!0}}});a("d7ea");u.a.defaults.baseURL="/api",u.a.defaults.withCredentials=!0,_a.a.locale("pt-br"),o["a"].config.productionTip=!1,new o["a"]({router:Ka,store:W,vuetify:Wa,render:function(e){return e(G)}}).$mount("#app")},6275:function(e,t,a){},"66a3":function(e,t,a){e.exports=a.p+"img/logo_transparente.702eec35.png"},6819:function(e,t,a){},"6eb3":function(e,t,a){},7180:function(e,t,a){e.exports=a.p+"img/parallax.6d2581db.jpg"},"7c89":function(e,t,a){e.exports=a.p+"img/parallax2.1902c2c1.jpg"},8554:function(e,t,a){e.exports=a.p+"img/1.ab401111.jpg"},"966e":function(e,t,a){"use strict";a("4d61")},a98b:function(e,t,a){e.exports=a.p+"img/douglas.21fca188.jpeg"},b640:function(e,t,a){e.exports=a.p+"img/logo.99279d4a.jpg"},b9d3:function(e,t,a){e.exports=a.p+"img/felipe.d285f275.jpeg"},ce85:function(e,t,a){e.exports=a.p+"img/background.1a3e39a8.jpeg"},ec6f:function(e,t,a){e.exports=a.p+"img/logo_pequeno.f88e0df0.png"},f821:function(e,t,a){"use strict";a("6819")},f9e2:function(e,t,a){"use strict";a("6eb3")}});
//# sourceMappingURL=app.1a928a58.js.map