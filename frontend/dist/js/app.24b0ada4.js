(function(e){function t(t){for(var n,r,i=t[0],c=t[1],l=t[2],u=0,m=[];u<i.length;u++)r=i[u],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&m.push(o[r][0]),o[r]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);d&&d(t);while(m.length)m.shift()();return s.push.apply(s,l||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],n=!0,i=1;i<a.length;i++){var c=a[i];0!==o[c]&&(n=!1)}n&&(s.splice(t--,1),e=r(r.s=a[0]))}return e}var n={},o={app:0},s=[];function r(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=n,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(a,n,function(t){return e[t]}.bind(null,n));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var d=c;s.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"034f":function(e,t,a){"use strict";a("1530")},"0485":function(e,t,a){},"0abd":function(e,t,a){"use strict";a("1105")},1105:function(e,t,a){},"11d9":function(e,t,a){e.exports=a.p+"img/3.aed164c2.jpg"},1530:function(e,t,a){},1771:function(e,t,a){var n={"./1.jpg":"8554","./2.jpg":"405a","./3.jpg":"11d9","./logo.jpg":"b640","./logo_transparente.png":"66a3","./nlogo.png":"2ca1","./parallax.jpg":"7180","./parallax2.jpg":"7c89"};function o(e){var t=s(e);return a(t)}function s(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}o.keys=function(){return Object.keys(n)},o.resolve=s,e.exports=o,o.id="1771"},1938:function(e,t,a){"use strict";a("0485")},"1a51":function(e,t,a){"use strict";a("6275")},"2ca1":function(e,t,a){e.exports=a.p+"img/nlogo.5ef6a7eb.png"},"405a":function(e,t,a){e.exports=a.p+"img/2.45d15245.jpg"},"4d61":function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("v-app-bar",{staticClass:"appBar",attrs:{dark:"",app:""}},[a("Header")],1),a("v-main",[a("router-view")],1),a("vtoast",{ref:"vtoast"})],1)},s=[],r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{staticClass:"d-flex align-center mx-0",attrs:{fluid:""}},[n("v-spacer"),n("v-img",{staticClass:"mr-2",attrs:{src:a("2ca1"),"aspect-ratio":1,"max-width":"40"},on:{click:e.goHome}}),n("div",{staticClass:"logo",on:{click:e.goHome}},[e._v("NeoMecanica")]),n("v-spacer"),n("Avatar")],1)},i=[],c=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.user?a("div",[a("v-menu",{attrs:{bottom:"","min-width":"200px",rounded:"","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[a("v-btn",e._g({attrs:{icon:"","x-large":""}},n),[a("v-avatar",{attrs:{color:"blue darken-4",size:"30"}},[a("span",{staticClass:"white--text text-h6"},[e._v(e._s(e.user.nome.charAt(0)))])])],1)]}}],null,!1,393012863)},[a("v-card",[a("v-list-item-content",{staticClass:"justify-center"},[a("div",{staticClass:"mx-auto text-center"},[a("h4",[e._v(e._s(e.user.nome))]),"admin"===e.user.acesso?a("section",[a("v-divider",{staticClass:"my-3"}),a("v-btn",{attrs:{small:"",depressed:"",rounded:"",text:""},on:{click:e.adminArea}},[e._v("Área do administador")])],1):a("section",[a("v-divider",{staticClass:"my-3"}),a("v-btn",{attrs:{small:"",depressed:"",rounded:"",text:""},on:{click:e.clientArea}},[e._v("Área do cliente")])],1),a("v-divider",{staticClass:"my-3"}),a("v-btn",{attrs:{small:"",depressed:"",rounded:"",text:""},on:{click:e.logOut}},[e._v("\n              Desconectar\n            ")])],1)])],1)],1)],1):a("v-btn",{attrs:{small:""},on:{click:e.logIn}},[e._v(" Login ")])],1)},l=[],d=a("bc3a"),u=a.n(d),m={computed:{user:function(){return this.$store.getters.getUser}},methods:{logIn:function(){this.$router.push("login")},logOut:function(){var e=this;u.a.get("/auth/logout").then((function(){e.$store.dispatch("setUser",null),e.$router.push("/")})).catch((function(e){console.log("Falha no Avatar:",e)}))},clientArea:function(){this.$router.push("/cliente")},adminArea:function(){this.$router.push("/dashboard")}}},v=m,p=a("2877"),f=a("6544"),h=a.n(f),g=a("8212"),b=a("8336"),x=a("b0af"),C=a("ce7e"),w=a("5d23"),_=a("e449"),k=Object(p["a"])(v,c,l,!1,null,null,null),y=k.exports;h()(k,{VAvatar:g["a"],VBtn:b["a"],VCard:x["a"],VDivider:C["a"],VListItemContent:w["a"],VMenu:_["a"]});var V={components:{Avatar:y},methods:{goHome:function(){this.$router.push("/")}}},j=V,A=(a("966e"),a("a523")),$=a("adda"),T=a("2fa4"),E=Object(p["a"])(j,r,i,!1,null,"8b8fa214",null),P=E.exports;h()(E,{VContainer:A["a"],VImg:$["a"],VSpacer:T["a"]});var S=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-snackbar",{attrs:{color:e.color,timeout:e.timer,top:"",center:""},scopedSlots:e._u([{key:"action",fn:function(t){return[a("v-icon",{attrs:{color:"white"},on:{click:function(t){e.showSnackbar=!1}}},[e._v(" mdi-close ")])]}}]),model:{value:e.showSnackbar,callback:function(t){e.showSnackbar=t},expression:"showSnackbar"}},[a("v-icon",{attrs:{left:""}},[e._v(e._s(e.icon))]),e._v(e._s(e.message)+"\n  ")],1)},O=[],R={name:"vtoast",data:function(){return{showSnackbar:!1,message:"",color:"success",icon:"mdi-check",timer:3e3}},methods:{show:function(e){this.showSnackbar=!0,this.message=e.message||"Erro desconhecido",this.color=e.color||"success",this.timer=e.timer||3e3,this.icon=e.icon||"mdi-check"}}},L=R,U=a("132d"),q=a("2db4"),D=Object(p["a"])(L,S,O,!1,null,null,null),F=D.exports;h()(D,{VIcon:U["a"],VSnackbar:q["a"]});var N={components:{Header:P,vtoast:F},mounted:function(){var e=this;this.$root.vtoast=this.$refs.vtoast,u.a.get("auth/user").then((function(t){t.data.id?e.$store.dispatch("setUser",t.data):e.$router.push({name:"Home"})})).catch((function(){e.$router.push({name:"Home"})}))}},I=N,M=(a("034f"),a("7496")),B=a("40dc"),z=a("f6c4"),H=Object(p["a"])(I,o,s,!1,null,null,null),G=H.exports;h()(H,{VApp:M["a"],VAppBar:B["a"],VMain:z["a"]});a("caad"),a("2532");var J=a("8c4f"),K=a("2f62");n["a"].use(K["a"]);var W=new K["a"].Store({state:{user:null},getters:{getUser:function(e){return e.user}},mutations:{setUser:function(e,t){e.user=t}},actions:{setUser:function(e,t){e.commit("setUser",t)}}}),X=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("LogoView"),a("Cards",{attrs:{cards:e.cardContent}}),a("Servicos"),a("v-divider",{staticClass:"mx-4 mb-4"}),a("FaleConosco"),a("Footer")],1)},Z=[],Q=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-row",{staticClass:"d-flex justify-center color4 my-6"},e._l(e.cards,(function(e,t){return a("v-col",{key:"card"+t,staticClass:"col-sm-12 col-md-4 col-lg-3"},[a("Card",{attrs:{card:e}})],1)})),1)},Y=[],ee=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-hover",{scopedSlots:e._u([{key:"default",fn:function(t){var o=t.hover;return[n("v-card",{staticClass:"elevation-0 ml-2",attrs:{width:"100%",color:"color4",height:"450"}},[n("v-card-text",{staticClass:"text-center"},[n("v-icon",{attrs:{large:"",color:"white"}},[e._v(e._s(e.card.icon))]),n("h2",{staticClass:"text-h6 white--text"},[e._v(e._s(e.card.title))])],1),n("v-img",{attrs:{src:a("1771")("./"+e.card.img),height:"75%"}},[e.alwaysOn?n("v-card",{staticClass:"white--text text-justify text-body-1 fill-height pa-4",attrs:{color:"rgb(0, 0, 0, 0.7)"},domProps:{innerHTML:e._s(e.card.text)}}):e._e()],1),n("v-fade-transition",[o&&!e.alwaysOn?n("v-overlay",{staticClass:"ma-n3",attrs:{absolute:"",color:"color4 darken-2",opacity:"0.8"}},[n("div",{staticClass:"mx-5 text-justify white--text"},[n("span",{domProps:{innerHTML:e._s(e.card.text)}})])]):e._e()],1)],1)]}}])})},te=[],ae={props:{card:{type:Object,default:function(){return{}}}},computed:{alwaysOn:function(){return window.innerWidth<960}}},ne=ae,oe=a("99d9"),se=a("0789"),re=a("ce87"),ie=a("a797"),ce=Object(p["a"])(ne,ee,te,!1,null,null,null),le=ce.exports;h()(ce,{VCard:x["a"],VCardText:oe["b"],VFadeTransition:se["c"],VHover:re["a"],VIcon:U["a"],VImg:$["a"],VOverlay:ie["a"]});var de={components:{Card:le},props:{cards:{type:Array,default:function(){return[]}}},data:function(){return{overlay:!1}}},ue=de,me=a("62ad"),ve=a("0fd9"),pe=Object(p["a"])(ue,Q,Y,!1,null,null,null),fe=pe.exports;h()(pe,{VCol:me["a"],VRow:ve["a"]});var he=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"d-flex flex-column",attrs:{fluid:""}},[n("v-parallax",{attrs:{src:a("7c89"),width:"100%"}},[n("v-row",{attrs:{align:"center",justify:"center"}},[n("v-col",{staticClass:"d-flex justify-center cols-sm-12 cols-md-3"},[n("v-img",{attrs:{src:a("66a3"),"max-width":"70%"}})],1),n("v-col",{staticClass:"text-right text-h5 black--text d-none d-md-flex cols-md-9"},[e._v("\n        Entregamos projetos inovadores com soluções personalizadas, simples e\n        práticas, utilizando todo nosso conhecimento técnico e prático, além\n        dos melhores softwares e hardwares disponíveis no mercado.\n      ")])],1)],1),n("v-col",{staticClass:"text-right text-subtitle-1 d-flex d-md-none cols-sm-12 pt-4"},[e._v("\n    Entregamos projetos inovadores com soluções personalizadas, simples e\n    práticas, utilizando todo nosso conhecimento técnico e prático, além dos\n    melhores softwares e hardwares disponíveis no mercado.\n  ")])],1)},ge=[],be={},xe=be,Ce=a("8b9c"),we=Object(p["a"])(xe,he,ge,!1,null,"5967aae2",null),_e=we.exports;h()(we,{VCol:me["a"],VImg:$["a"],VParallax:Ce["a"],VRow:ve["a"]});var ke=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mx-2"},[a("v-card",{staticClass:"mx-auto mb-4",attrs:{"max-width":"800"}},[a("v-card-title",[e._v("Fale conosco")]),a("v-form",{ref:"form",model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-card-text",[a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{"prepend-icon":"mdi-account",label:"Nome",rules:[e.rules.required],outlined:"",required:""},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1),a("v-col",{staticClass:"pr-md-2",attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{"prepend-icon":"mdi-phone",label:"Telefone",placeholder:"(XX)X1234-5678",rules:[e.rules.phoneRule],outlined:"",required:""},model:{value:e.phoneNumber,callback:function(t){e.phoneNumber=t},expression:"phoneNumber"}})],1),a("v-col",{staticClass:"pl-md-2",attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{"prepend-icon":"mdi-email",outlined:"",label:"E-mail",rules:[e.rules.mailRule],required:""},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-textarea",{attrs:{rules:[e.rules.required],outlined:"",label:"Mensagem"},model:{value:e.assunto,callback:function(t){e.assunto=t},expression:"assunto"}})],1)],1)],1),a("v-card-actions",{staticClass:"mt-n4 pb-4"},[a("v-spacer"),a("v-btn",{staticClass:"mr-2",attrs:{color:"color4 white--text",loading:e.isBusy,disabled:e.isBusy,type:"submit",small:""},on:{click:e.sendData}},[e._v("\n          Enviar\n        ")])],1)],1)],1)],1)},ye=[],Ve=(a("b0c0"),{data:function(){return{name:"",phoneNumber:"",email:"",assunto:"",isBusy:!1,valid:!0,rules:{required:function(e){return!!e||"Campo deve ser preenchido."},phoneRule:function(e){var t=/^(\(?\d{2}\)?)?(\d{4,5})(\-)?(\d{4})/;return t.test(e)||"Telefone inválido"},mailRule:function(e){var t=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(e)||"E-mail inválido"}}}},methods:{sendData:function(){var e=this;if(!this.valid)return this.$refs.form.validate(),void this.$root.vtoast.show({color:"orange",message:"Preencha corretamente os campos."});this.isBusy=!0;var t={name:this.name,phone:this.phoneNumber,email:this.email,content:this.assunto};u.a.post("/message",t).then((function(t){e.$root.vtoast.show({color:"green",message:t.data.msg}),e.isBusy=!1,e.$refs.form.reset()})).catch((function(t){e.$root.vtoast.show({color:"red",message:t.response.data.msg}),e.isBusy=!1}))}}}),je=Ve,Ae=a("4bd4"),$e=a("8654"),Te=a("a844"),Ee=Object(p["a"])(je,ke,ye,!1,null,null,null),Pe=Ee.exports;h()(Ee,{VBtn:b["a"],VCard:x["a"],VCardActions:oe["a"],VCardText:oe["b"],VCardTitle:oe["c"],VCol:me["a"],VForm:Ae["a"],VRow:ve["a"],VSpacer:T["a"],VTextField:$e["a"],VTextarea:Te["a"]});var Se=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"text-center text-h5"},[e._v("Nossos serviços")]),a("v-carousel",{attrs:{cycle:"",height:"100","hide-delimiters":"","show-arrows-on-hover":"",interval:3e3}},e._l(e.slides,(function(t,n){return a("v-carousel-item",{key:n},[a("v-sheet",{attrs:{height:"100%"}},[a("v-row",{staticClass:"fill-height",attrs:{align:"center",justify:"center"}},[a("div",{staticClass:"text-lg-h4 text-h5"},[e._v("\n            "+e._s(t)+"\n          ")])])],1)],1)})),1)],1)},Oe=[],Re={data:function(){return{slides:["Certificação de vasos de pressão","Projetos mecânicos","Lorem Ipsum Dolor Sit Amet"]}}},Le=Re,Ue=a("5e66"),qe=a("3e35"),De=a("8dd9"),Fe=Object(p["a"])(Le,Se,Oe,!1,null,null,null),Ne=Fe.exports;h()(Fe,{VCarousel:Ue["a"],VCarouselItem:qe["a"],VRow:ve["a"],VSheet:De["a"]});var Ie=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},Me=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"text-center align-center overline primary white--text"},[e._v("\n  Neomecanica - Escritório de Engenharia "),a("br"),e._v("\n  R. Marquês de Herval, 90 - Valongo"),a("br"),e._v("\n  Santos - SP"),a("br"),e._v("\n  (13) 800 728 901\n")])}],Be={},ze=Be,He=Object(p["a"])(ze,Ie,Me,!1,null,null,null),Ge=He.exports,Je={components:{LogoView:_e,Cards:fe,Servicos:Ne,FaleConosco:Pe,Footer:Ge},data:function(){return{cardContent:[{text:"Buscamos constantemente trazer projetos inovadores, entregando mais do que o cliente solicita, de forma rápida e prática.<br />Pensando no projeto como um todo: concepção, planejamento, projeto técnico, custo, montagem e entrega ao cliente, nós entregamos segurança e tranquilidade para nosso cliente, sabendo que ele terá a melhor solução de engenharia que ele poderia encontrar.",title:"Nosso diferencial",icon:"mdi-desk-lamp",img:"1.jpg"},{text:"Queremos difundir a engenharia por todas a sociedade, independente do problema.<br />Sabemos que com estudo e dedicação existe uma solução simples, prática e economicamente viável para ser apresentada; só precisamos pensar.",title:"O que fazemos",icon:"mdi-cloud-question",img:"2.jpg"},{text:"Para qualquer pessoa ou empresa que busca por soluções simples, práticas e diferenciadas, a Neomecanica Escritório de engenharia é um escritório multidisciplinar que lhe entrega projetos customizados, diferente do que você pode encontrar hoje no mercado brasileiro.",title:"Nossos valores",icon:"mdi-target",img:"3.jpg"}]}}},Ke=Je,We=Object(p["a"])(Ke,X,Z,!1,null,null,null),Xe=We.exports;h()(We,{VDivider:C["a"]});var Ze=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{staticClass:"d-flex fill-height justify-center align-center cardBG",attrs:{fluid:""}},[a("v-spacer"),a("transition",{attrs:{name:"rotate",mode:"out-in"}},[1===e.modo?a("LoginCard",{on:{Register:e.changeToRegister,ForgotPass:e.changeToPass}}):2===e.modo?a("RegisterCard",{on:{Login:e.changeToLogin}}):3===e.modo?a("ForgotPass",{on:{Login:e.changeToLogin}}):e._e()],1),a("v-spacer")],1)},Qe=[],Ye=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{staticClass:"pa-2",attrs:{width:"300px"}},[a("v-card-title",{staticClass:"d-flex justify-center"},[e._v(" Login ")]),a("v-divider"),a("v-card-text",[a("v-form",{ref:"form",model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-text-field",{attrs:{"prepend-icon":"mdi-email-outline",label:"E-mail",required:"",outlined:"",rules:e.emailRules,dense:""},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),a("v-text-field",{attrs:{"prepend-icon":"mdi-account-key-outline","append-icon":e.showPass?"mdi-eye":"mdi-eye-off",type:e.showPass?"text":"password",label:"Senha",required:"",outlined:"",dense:"",rules:e.passwordRules},on:{"click:append":function(t){e.showPass=!e.showPass}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),a("div",{staticClass:"d-flex justify-center"},[a("v-btn",{attrs:{color:"green","min-width":"150px",small:""},on:{click:e.login}},[e._v("Entrar")])],1),a("div",{staticClass:"link caption text-center mt-4",on:{click:function(t){return e.newEvent("ForgotPass")}}},[e._v("\n        Esqueceu sua senha? Clique aqui.\n      ")])],1)],1),a("v-divider"),a("v-card-actions",{staticClass:"mb-2"},[a("v-row",{staticClass:"d-flex justify-center"},[a("div",{staticClass:"link d-flex caption justify-center text-center mt-3 mx-5",on:{click:function(t){return e.newEvent("Register")}}},[e._v("\n        Novo aqui? Crie seu registro.\n      ")]),a("div",{staticClass:"d-flex caption justify-center text-center mb-3"},[e._v("\n        Ou, se preferir...\n      ")]),a("v-btn",{staticClass:"white--text",attrs:{small:"",color:"red darken-1",width:"230"},on:{click:e.GoogleLogin}},[a("v-icon",{staticClass:"mx-1",attrs:{small:""}},[e._v("mdi-google")]),e._v(" Entrar com o Google\n      ")],1)],1)],1)],1)},et=[],tt={data:function(){return{email:"",password:"",showPass:!1,valid:null,emailRules:[function(e){return!!e||"Forneça um e-mail"},function(e){return/.+@.+\..+/.test(e)||"E-mail inválido"}],passwordRules:[function(e){return e&&e.length>=8||"Senha inválida"}]}},methods:{FacebookLogin:function(){window.location="".concat("/api","/auth/facebook")},GoogleLogin:function(){window.location="".concat("/api","/auth/google")},login:function(){var e=this,t={username:this.email,password:this.password};u.a.post("/auth/login",t).then((function(t){e.$root.vtoast.show({message:"Login realizado com sucesso."});var a="admin"===t.data?"Dashboard":"Cliente";e.$router.push(a)})).catch((function(){e.$root.vtoast.show({message:"Falha no login do usuário",color:"red lighten-2",icon:"mdi-account-alert"})}))},newEvent:function(e){this.$emit(e)}}},at=tt,nt=(a("1a51"),Object(p["a"])(at,Ye,et,!1,null,"0a3b729b",null)),ot=nt.exports;h()(nt,{VBtn:b["a"],VCard:x["a"],VCardActions:oe["a"],VCardText:oe["b"],VCardTitle:oe["c"],VDivider:C["a"],VForm:Ae["a"],VIcon:U["a"],VRow:ve["a"],VTextField:$e["a"]});var st=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{staticClass:"pa-2",attrs:{width:"300px"}},[a("v-card-title",{staticClass:"d-flex justify-center"},[e._v("\n    Recuperação de senha\n  ")]),a("v-divider"),a("v-card-text",[a("v-form",{model:{value:e.form1,callback:function(t){e.form1=t},expression:"form1"}},[a("v-text-field",{attrs:{"prepend-icon":"mdi-email-outline",label:"Digite seu e-mail",rules:e.emailRules,required:"",outlined:"",dense:"",disabled:e.disableMail},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.requestToken.apply(null,arguments)}},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),a("div",{staticClass:"d-flex justify-center mb-3"},[a("v-btn",{attrs:{disabled:e.disableMail||!e.form1,color:"blue","min-width":"150px",small:""},on:{click:e.requestToken}},[e._v("Enviar código")])],1)],1),a("transition",{attrs:{name:"slide"}},[e.sentCode?a("v-form",{model:{value:e.form2,callback:function(t){e.form2=t},expression:"form2"}},[a("v-divider",{staticClass:"mb-4 mt-4"}),a("v-text-field",{attrs:{"prepend-icon":"mdi-account-key-outline",label:"Token",rules:e.tokenRules,outlined:"",dense:""},model:{value:e.code,callback:function(t){e.code=t},expression:"code"}}),a("v-text-field",{attrs:{"prepend-icon":"mdi-shield-key","append-icon":e.showPass?"mdi-eye":"mdi-eye-off",label:"Nova senha",rules:e.passwordRules,type:e.showPass?"text":"password",outlined:"",dense:""},on:{"click:append":function(t){e.showPass=!e.showPass}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),a("v-text-field",{attrs:{"prepend-icon":"mdi-shield-key","append-icon":e.showPass2?"mdi-eye":"mdi-eye-off",type:e.showPass2?"text":"password",label:"Repita a senha",rules:e.passwordCheckRules,outlined:"",dense:""},on:{"click:append":function(t){e.showPass2=!e.showPass2}},model:{value:e.password2,callback:function(t){e.password2=t},expression:"password2"}}),a("div",{staticClass:"d-flex justify-center"},[a("v-btn",{attrs:{disabled:!e.form2,color:"green","min-width":"150px",small:""},on:{click:e.changePassword}},[e._v("Redefinir senha")])],1)],1):e._e()],1)],1),a("v-divider"),a("v-card-actions",{staticClass:"justify-center mt-2"},[a("v-btn",{attrs:{"min-width":"150px",color:"red darken-2",small:""},on:{click:e.returnToLogin}},[e._v("\n      Cancelar")])],1)],1)},rt=[],it={data:function(){var e=this;return{form1:!1,form2:!1,sentCode:!1,email:"",code:"",password:"",password2:"",disableMail:!1,showPass:!1,showPass2:!1,emailRules:[function(e){return!!e||"Forneça um e-mail"},function(e){return/.+@.+\..+/.test(e)||"E-mail inválido"}],passwordRules:[function(e){return e&&e.length>=8||"Senha inválida"}],tokenRules:[function(e){return e&&e.length>=20||"Token inválido"}],passwordCheckRules:[function(e){return e&&e.length>=8||"Senha muito curta"},function(){return e.password===e.password2||"Senhas inválida"}]}},methods:{returnToLogin:function(){this.$emit("Login")},requestToken:function(){var e=this,t={email:this.email};this.disableMail=!0,u.a.post("/users/recoverPassword",t).then((function(t){e.sentCode=!0,e.$root.vtoast.show({message:t.data})})).catch((function(t){e.disableMail=!1,e.$root.vtoast.show({color:"red",message:t.response.data})}))},changePassword:function(){var e=this;if(this.password!=this.password2)return this.$root.vtoast.show({color:"red",message:"Confira sua senha."});var t={email:this.email,token:this.code,password:this.password};u.a.post("/users/resetPassword",t).then((function(t){e.$root.vtoast.show({message:t.data}),e.$emit("Login")})).catch((function(t){e.$root.vtoast.show({color:"red",message:t.response.data})}))}}},ct=it,lt=(a("f821"),Object(p["a"])(ct,st,rt,!1,null,"1f8ce2e8",null)),dt=lt.exports;h()(lt,{VBtn:b["a"],VCard:x["a"],VCardActions:oe["a"],VCardText:oe["b"],VCardTitle:oe["c"],VDivider:C["a"],VForm:Ae["a"],VTextField:$e["a"]});var ut=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{staticClass:"pa-2",attrs:{width:"300px"}},[a("v-card-title",{staticClass:"d-flex justify-center"},[e._t("default",(function(){return[e._v(" Registre-se ")]}))],2),a("v-divider",{staticClass:"mb-2"}),a("v-card-text",{staticClass:"mb-n3"},[a("v-alert",{attrs:{dense:"",color:"error lighten-2",border:"top",icon:"mdi-error",dismissible:""},model:{value:e.erro,callback:function(t){e.erro=t},expression:"erro"}},[e._v(e._s(e.msgErro))]),a("v-form",{ref:"form",model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-text-field",{attrs:{"prepend-icon":"mdi-account",label:"Nome",required:"",outlined:"",dense:"",rules:e.nameRules},model:{value:e.nome,callback:function(t){e.nome=t},expression:"nome"}}),a("v-text-field",{attrs:{"prepend-icon":"mdi-email-outline",label:"E-mail",required:"",outlined:"",dense:"",rules:e.emailRules},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),a("v-text-field",{attrs:{"prepend-icon":"mdi-shield-key","append-icon":e.showPass?"mdi-eye":"mdi-eye-off",label:"Escolha uma senha",required:"",type:e.showPass?"text":"password",outlined:"",dense:"",rules:e.passwordRules},on:{"click:append":function(t){e.showPass=!e.showPass}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),a("v-text-field",{attrs:{"prepend-icon":"mdi-shield-key-outline","append-icon":e.showCheck?"mdi-eye":"mdi-eye-off",label:"Digite a senha novamente",required:"",type:e.showCheck?"text":"password",outlined:"",dense:"",rules:e.passwordCheckRules},on:{"click:append":function(t){e.showCheck=!e.showCheck}},model:{value:e.passwordCheck,callback:function(t){e.passwordCheck=t},expression:"passwordCheck"}}),e._t("password")],2)],1),a("v-divider"),a("v-card-actions",{staticClass:"justify-center mt-2"},[a("v-btn",{attrs:{color:"red darken-2","min-width":"100px",small:""},on:{click:e.returnToLogin}},[e._v("Cancelar")]),a("v-spacer"),a("v-btn",{attrs:{disabled:!e.valid,"min-width":"100px",color:"green",small:""},on:{click:e.register}},[e._v("Registrar")])],1)],1)},mt=[],vt={data:function(){var e=this;return{valid:!1,nome:"",email:"",password:"",showPass:!1,passwordCheck:"",showCheck:!1,emailRules:[function(e){return!!e||"Forneça um e-mail"},function(e){return/.+@.+\..+/.test(e)||"E-mail inválido"}],nameRules:[function(e){return!!e||"Informe seu nome"},function(e){return e&&e.length>=3||"Nome deve ter ao menos 3 caracteres"}],passwordRules:[function(e){return e&&e.length>=8||"Senha inválida"}],passwordCheckRules:[function(e){return e&&e.length>=8||"Senha muito curta"},function(){return e.password===e.passwordCheck||"Senhas inválida"}],erro:!1,msgErro:""}},methods:{returnToLogin:function(){this.$emit("Login")},register:function(){var e=this,t={name:this.nome,email:this.email,password:this.password};u.a.post("/users/createUser",t).then((function(){e.$root.vtoast.show({message:"Usuário criado com sucesso."}),e.$emit("Login")})).catch((function(t){e.erro=!0,e.msgErro=t.response.data}))}}},pt=vt,ft=a("0798"),ht=Object(p["a"])(pt,ut,mt,!1,null,"a25aadfe",null),gt=ht.exports;h()(ht,{VAlert:ft["a"],VBtn:b["a"],VCard:x["a"],VCardActions:oe["a"],VCardText:oe["b"],VCardTitle:oe["c"],VDivider:C["a"],VForm:Ae["a"],VSpacer:T["a"],VTextField:$e["a"]});var bt={components:{LoginCard:ot,ForgotPass:dt,RegisterCard:gt},data:function(){return{email:"",password:"",valid:null,modo:1}},methods:{FacebookLogin:function(){window.location="".concat("/api","/auth/facebook")},GoogleLogin:function(){window.location="".concat("/api","/auth/google")},changeToPass:function(){this.modo=3},changeToRegister:function(){this.modo=2},changeToLogin:function(){this.modo=1}}},xt=bt,Ct=(a("0abd"),Object(p["a"])(xt,Ze,Qe,!1,null,"4599bd02",null)),wt=Ct.exports;h()(Ct,{VContainer:A["a"],VSpacer:T["a"]});var _t=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"cardBG fill-height d-flex justify-center py-3"},[a("v-card",{attrs:{width:"90vw"}},[a("v-card-title",{staticClass:"justify-center"},[e._v(" Área do cliente ")]),a("v-divider"),a("v-card-text",[e._v("\n      Serviços em andamento"),a("br"),e._v("\n      Serviços concluídos "),a("br")])],1)],1)},kt=[],yt={},Vt=yt,jt=Object(p["a"])(Vt,_t,kt,!1,null,"89622392",null),At=jt.exports;h()(jt,{VCard:x["a"],VCardText:oe["b"],VCardTitle:oe["c"],VDivider:C["a"]});var $t=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"cardBG fill-height d-flex justify-center py-3"},[a("v-card",{attrs:{width:"90vw"}},[a("v-card-title",{staticClass:"justify-center"},[e._v("\n      Área do administrador\n    ")]),a("v-divider"),a("v-card-text",[a("v-expansion-panels",[a("v-expansion-panel",[a("v-expansion-panel-header",{attrs:{color:"color2 white--text"}},[e._v("\n            Mensagens\n          ")]),a("v-expansion-panel-content",{staticClass:"py-3 mx-n3"},[a("Messages")],1)],1),a("v-expansion-panel",[a("v-expansion-panel-header",{attrs:{color:"color1 white--text"}},[e._v("\n            Clientes\n          ")]),a("v-expansion-panel-content",{staticClass:"mx-n3 py-3"},[a("Users",{attrs:{tipo:"cliente"}})],1)],1),a("v-expansion-panel",[a("v-expansion-panel-header",{attrs:{color:"color1 darken-2 white--text"}},[e._v("\n            Administradores\n          ")]),a("v-expansion-panel-content",{staticClass:"mx-n3 py-3"},[a("Users",{attrs:{tipo:"admin"}})],1)],1)],1)],1),a("router-view")],1)],1)},Tt=[],Et=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.messageHeader,items:e.messages,expanded:e.expanded,"show-expand":"",dense:"","single-expand":"","item-key":"_id",loading:e.loading,"loading-text":"Carregando mensagens...","no-data-text":"Não há mensagens a exibir...","items-per-page":5,"footer-props":{"items-per-page-all-text":"Todas","items-per-page-text":"Mensagens por página:","items-per-page-options":[5,10,15,-1]},"header-props":{"sort-by-text":"Organizar por"}},on:{"update:expanded":function(t){e.expanded=t}},scopedSlots:e._u([{key:"item._id",fn:function(t){var a=t.item;return[e._v("\n      "+e._s(e.convertToDate(a._id))+"\n    ")]}},{key:"item.read",fn:function(t){var n=t.item;return[a("v-btn",{attrs:{icon:""},on:{click:function(t){return e.markAnswered(n._id)}}},[a("v-icon",{attrs:{small:"",color:e.iconColor(n.read)}},[e._v("mdi-email-check")])],1)]}},{key:"expanded-item",fn:function(t){var n=t.headers,o=t.item;return[a("td",{attrs:{colspan:n.length}},[a("div",{staticClass:"my-2",domProps:{innerHTML:e._s(e.adjustText(o))}})])]}}],null,!0)})],1)},Pt=[],St=(a("a434"),a("c740"),a("d3b7"),a("25f0"),a("99af"),a("ac1f"),a("5319"),{computed:{messageHeader:function(){var e=[{text:"Recebida em",value:"_id",sortable:!0},{text:"Lida?",value:"read",sortable:!0},{text:"Visualizar",value:"data-table-expand",sortable:!1}];return window.innerWidth>600&&e.splice(1,0,{text:"Enviada por",value:"sentBy",sortable:!1}),window.innerWidth>960&&e.splice(2,0,{text:"E-mail",value:"email",sortable:!1}),e}},data:function(){return{messages:[],expanded:[],loading:!0}},methods:{FetchMessages:function(){var e=this;u.a.get("/message").then((function(t){e.messages=t.data.msg,e.loading=!1})).catch((function(t){console.log(t.data),e.loading=!1}))},markAnswered:function(e){var t=this.messages.findIndex((function(t){return t._id===e}));this.messages[t].read=!this.messages[t].read,u.a.put("/message/".concat(e),{read:this.messages[t].read}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))},convertToDate:function(e){return new Date(1e3*parseInt(e.toString().substring(0,8),16)).toLocaleString("pt-br")},iconColor:function(e){return e?"color2":"grey"},adjustText:function(e){return"<strong>Mensagem: </strong><br/>".concat(e.content.replace("\n","<br />"),"<br />").concat(e.sentBy,"<br /><br /><strong>Telefone:</strong> ").concat(e.phone,"<br /><strong>Email:</strong> ").concat(e.email,"<br />")}},mounted:function(){this.FetchMessages()}}),Ot=St,Rt=a("8fea"),Lt=Object(p["a"])(Ot,Et,Pt,!1,null,"493605e2",null),Ut=Lt.exports;h()(Lt,{VBtn:b["a"],VDataTable:Rt["a"],VIcon:U["a"]});var qt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{attrs:{width:"100%"}},[a("v-card-title",{staticClass:"py-3 my-0"},[a("v-text-field",{staticClass:"white",staticStyle:{"max-width":"600px"},attrs:{outlined:"",dense:"","append-icon":"mdi-magnify",label:"Busca","hide-details":""},model:{value:e.busca,callback:function(t){e.busca=t},expression:"busca"}}),a("v-spacer"),"cliente"===e.tipo?a("v-btn",{staticClass:"my-2",attrs:{small:"",color:"color1 white--text"},on:{click:e.createUser}},[e._v("Inserir cliente")]):e._e()],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.usersHeader,items:e.users,search:e.busca,dense:"","item-key":"_id",loading:e.loading,"loading-text":"Carregando usuários...","no-data-text":"Não há usuários a exibir...","items-per-page":10,"footer-props":{"items-per-page-all-text":"Todos","items-per-page-text":"Usuários por página:","items-per-page-options":[5,10,15,-1]},"header-props":{"sort-by-text":"Organizar por"}},scopedSlots:e._u([{key:"item._id",fn:function(t){var a=t.item;return[e._v("\n      "+e._s(e.convertToDate(a._id))+"\n    ")]}},{key:"item.actions",fn:function(t){var n=t.item;return[a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,s=t.attrs;return["admin"===n.role?a("v-btn",e._g(e._b({attrs:{icon:""},on:{click:function(t){return e.demoteUser(n)}}},"v-btn",s,!1),o),[a("v-icon",{attrs:{small:"",color:"red"}},[e._v("mdi-account-minus")])],1):e._e()]}}],null,!0)},[a("span",[e._v("Remover acesso")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,s=t.attrs;return["cliente"===n.role?a("v-btn",e._g(e._b({attrs:{icon:""},on:{click:function(t){return e.editUser(n)}}},"v-btn",s,!1),o),[a("v-icon",{attrs:{small:"",color:"purple"}},[e._v("mdi-account-edit")])],1):e._e()]}}],null,!0)},[a("span",[e._v("Editar cliente")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,s=t.attrs;return["cliente"===n.role?a("v-btn",e._g(e._b({attrs:{icon:""},on:{click:function(t){return e.createJob(n)}}},"v-btn",s,!1),o),[a("v-icon",{attrs:{small:"",color:"green"}},[e._v("mdi-folder-account")])],1):e._e()]}}],null,!0)},[a("span",[e._v("Novo projeto")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,s=t.attrs;return["cliente"===n.role?a("v-btn",e._g(e._b({attrs:{icon:""},on:{click:function(t){return e.promoteUser(n)}}},"v-btn",s,!1),o),[a("v-icon",{attrs:{small:"",color:"blue"}},[e._v("mdi-account-star")])],1):e._e()]}}],null,!0)},[a("span",[e._v("Tornar administrador")])])]}}],null,!0)}),a("v-dialog",{attrs:{"max-width":"500"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[e._v(e._s(e.cardTitle))]),a("v-card-text",{staticClass:"text-justify"},[e._v(e._s(e.cardText))]),a("v-divider"),a("v-card-actions",[a("v-btn",{attrs:{small:"",color:"red"},on:{click:function(t){e.dialog=!1}}},[e._v("Cancelar")]),a("v-spacer"),a("v-btn",{attrs:{small:"",color:"green"},on:{click:e.execAction}},[e._v("Confirmar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"500"},model:{value:e.userDialog,callback:function(t){e.userDialog=t},expression:"userDialog"}},[a("EditUser",{key:e.userKey,attrs:{user:e.user},on:{close:e.closeUser}})],1)],1)},Dt=[],Ft=(a("4de4"),a("159b"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-card",[a("v-card-title",[e._v("Cliente")]),a("v-divider"),a("v-card-text",[a("v-form",[a("v-text-field",{attrs:{outlined:"",dense:"",label:"Nome do usuário"},model:{value:e.client.name,callback:function(t){e.$set(e.client,"name",t)},expression:"client.name"}}),a("v-text-field",{attrs:{outlined:"",dense:"",label:"E-mail de login"},model:{value:e.client.email,callback:function(t){e.$set(e.client,"email",t)},expression:"client.email"}}),a("v-divider",{staticClass:"mb-6"}),a("v-text-field",{attrs:{outlined:"",dense:"",label:"CNPJ"},model:{value:e.client.cnpj,callback:function(t){e.$set(e.client,"cnpj",t)},expression:"client.cnpj"}}),a("v-text-field",{attrs:{outlined:"",dense:"",label:"Inscrição estadual"},model:{value:e.client.inscricao,callback:function(t){e.$set(e.client,"inscricao",t)},expression:"client.inscricao"}}),a("v-text-field",{attrs:{outlined:"",dense:"",label:"Razão social"},model:{value:e.client.razaoSocial,callback:function(t){e.$set(e.client,"razaoSocial",t)},expression:"client.razaoSocial"}}),a("v-divider",{staticClass:"mb-6"}),a("v-select",{attrs:{items:e.client.addr,"item-text":"nome","item-value":"index",label:"Endereço","no-data-text":"Não há endereço cadastrado.",dense:"",outlined:"",filled:"","append-outer-icon":"mdi-plus"},on:{"click:append-outer":e.insertAddr,change:e.loadAddr},model:{value:e.selectedAddr,callback:function(t){e.selectedAddr=t},expression:"selectedAddr"}}),e.selectedAddr?a("section",[a("v-row",[a("v-col",{staticClass:"mb-n4 pb-0 col-9"},[a("v-text-field",{attrs:{outlined:"",dense:"",label:"Nome"},model:{value:e.selectedAddr.nome,callback:function(t){e.$set(e.selectedAddr,"nome",t)},expression:"selectedAddr.nome"}})],1),a("v-col",{staticClass:"mb-n4 pb-0 col-3"},[a("v-btn",{attrs:{icon:""},on:{click:e.mainAddress}},[a("v-icon",{attrs:{color:e.addrIndex===e.client.mainAddress?"red":"blue"}},[e._v("mdi-star-outline")])],1)],1),a("v-col",{staticClass:"mb-n4 pb-0 col-12"},[a("v-text-field",{attrs:{outlined:"",dense:"",label:"Rua"},model:{value:e.selectedAddr.rua,callback:function(t){e.$set(e.selectedAddr,"rua",t)},expression:"selectedAddr.rua"}})],1),a("v-col",{staticClass:"mb-n4 pb-0 col-4"},[a("v-text-field",{attrs:{outlined:"",dense:"",label:"Número"},model:{value:e.selectedAddr.numero,callback:function(t){e.$set(e.selectedAddr,"numero",t)},expression:"selectedAddr.numero"}})],1),a("v-col",{staticClass:"mb-n4 pb-0 col-8"},[a("v-text-field",{attrs:{outlined:"",dense:"",label:"Complemento"},model:{value:e.selectedAddr.complemento,callback:function(t){e.$set(e.selectedAddr,"complemento",t)},expression:"selectedAddr.complemento"}})],1),a("v-col",{staticClass:"mb-n4 pb-0 col-6"},[a("v-text-field",{attrs:{outlined:"",dense:"",label:"Bairro"},model:{value:e.selectedAddr.bairro,callback:function(t){e.$set(e.selectedAddr,"bairro",t)},expression:"selectedAddr.bairro"}})],1),a("v-col",{staticClass:"mb-n4 pb-0 col-6"},[a("v-text-field",{attrs:{outlined:"",dense:"",label:"CEP"},model:{value:e.selectedAddr.cep,callback:function(t){e.$set(e.selectedAddr,"cep",t)},expression:"selectedAddr.cep"}})],1),a("v-col",{staticClass:"mb-n4 pb-0 col-9"},[a("v-text-field",{attrs:{outlined:"",dense:"",label:"Cidade"},model:{value:e.selectedAddr.cidade,callback:function(t){e.$set(e.selectedAddr,"cidade",t)},expression:"selectedAddr.cidade"}})],1),a("v-col",{staticClass:"mb-n4 pb-0 col-3"},[a("v-text-field",{attrs:{outlined:"",dense:"",label:"Estado"},model:{value:e.selectedAddr.estado,callback:function(t){e.$set(e.selectedAddr,"estado",t)},expression:"selectedAddr.estado"}})],1)],1)],1):e._e(),a("v-divider",{staticClass:"my-6"}),a("v-select",{attrs:{items:e.client.contatos,"item-text":"nome","item-value":"index",label:"Contatos","no-data-text":"Não há contato cadastrado.",dense:"",outlined:"",filled:"","append-outer-icon":"mdi-plus"},on:{"click:append-outer":e.insertContact,change:e.loadContact},model:{value:e.selectedContact,callback:function(t){e.selectedContact=t},expression:"selectedContact"}}),e.selectedContact?a("section",[a("v-row",[a("v-col",{staticClass:"mb-n4 pb-0 col-9"},[a("v-text-field",{attrs:{outlined:"",dense:"",label:"Nome"},model:{value:e.selectedContact.nome,callback:function(t){e.$set(e.selectedContact,"nome",t)},expression:"selectedContact.nome"}})],1),a("v-col",{staticClass:"mb-n4 pb-0 col-3"},[a("v-btn",{attrs:{icon:""},on:{click:e.mainContact}},[a("v-icon",{attrs:{color:e.contactIndex===e.client.mainContact?"red":"blue"}},[e._v("mdi-star-outline")])],1)],1),a("v-col",{staticClass:"mb-n4 pb-0 col-12"},[a("v-text-field",{attrs:{outlined:"",dense:"",label:"Cargo"},model:{value:e.selectedContact.position,callback:function(t){e.$set(e.selectedContact,"position",t)},expression:"selectedContact.position"}})],1),a("v-col",{staticClass:"mb-n4 pb-0 col-12 col-md-4"},[a("v-text-field",{attrs:{outlined:"",dense:"",label:"Telefone"},model:{value:e.selectedContact.phone,callback:function(t){e.$set(e.selectedContact,"phone",t)},expression:"selectedContact.phone"}})],1),a("v-col",{staticClass:"mb-n4 pb-0 col-12 col-md-8"},[a("v-text-field",{attrs:{outlined:"",dense:"",label:"E-mail"},model:{value:e.selectedContact.email,callback:function(t){e.$set(e.selectedContact,"email",t)},expression:"selectedContact.email"}})],1)],1)],1):e._e(),a("v-divider",{staticClass:"mt-6 mb-4"}),a("v-card-actions",{staticClass:"d-flex"},[a("v-btn",{attrs:{small:"",color:"red"},on:{click:e.closeUser}},[e._v("Fechar")]),a("v-spacer"),a("v-btn",{attrs:{small:"",color:"green"},on:{click:e.saveUser}},[e._v("Salvar")])],1)],1)],1)],1)],1)}),Nt=[],It={props:["user"],data:function(){return{selectedAddr:null,addrIndex:-1,selectedContact:null,contactIndex:-1,client:{cnpj:"",inscricao:"",razaoSocial:"",mainAddress:-1,mainContact:-1,addr:[],contatos:[]}}},methods:{insertAddr:function(){this.client.addr.push({nome:"Novo endereço",index:this.client.addr.length}),this.selectedAddr=this.client.addr[this.client.addr.length-1]},loadAddr:function(e){this.addrIndex=e,this.selectedAddr=this.client.addr[e]},insertContact:function(){this.client.contatos.push({nome:"Novo contato",index:this.client.contatos.length}),this.selectedContact=this.client.contatos[this.client.contatos.length-1]},loadContact:function(e){this.contactIndex=e,this.selectedContact=this.client.contatos[e]},mainContact:function(){this.client.mainContact=this.contactIndex},mainAddress:function(){this.client.mainAddress=this.addrIndex},saveUser:function(){var e=this,t=this.client._id?"put":"post",a=this.client._id?this.client._id:"adminUser";u.a[t]("/users/".concat(a),this.client).then((function(t){e.$root.vtoast.show({color:"green",message:t.data}),e.$emit("close",!0)})).catch((function(t){e.$root.vtoast.show({color:"orange",message:t.response.data})}))},closeUser:function(){this.$emit("close",!1)}},mounted:function(){this.user&&(this.client=this.user,this.client.mainAddress>=0?(this.selectedAddr=this.client.addr[this.client.mainAddress],this.addrIndex=this.client.mainAddress):this.client.addr.length&&(this.selectedAddr=this.client.addr[0]),this.client.mainContact>=0?(this.selectedContact=this.client.contatos[this.client.mainContact],this.contactIndex=this.client.mainContact):this.client.contatos.length&&(this.selectedContact=this.client.contatos[0]))}},Mt=It,Bt=a("b974"),zt=Object(p["a"])(Mt,Ft,Nt,!1,null,"c21bb38a",null),Ht=zt.exports;h()(zt,{VBtn:b["a"],VCard:x["a"],VCardActions:oe["a"],VCardText:oe["b"],VCardTitle:oe["c"],VCol:me["a"],VDivider:C["a"],VForm:Ae["a"],VIcon:U["a"],VRow:ve["a"],VSelect:Bt["a"],VSpacer:T["a"],VTextField:$e["a"]});var Gt={props:["tipo"],components:{EditUser:Ht},computed:{usersHeader:function(){var e=[{text:"Nome",value:"name",sortable:!1},{text:"E-mail",value:"email",sortable:!1},{text:"Cadastro",value:"tipo",sortable:!1},{text:"Ações",value:"actions",sortable:!1,align:"center"}];return e}},data:function(){return{users:[],loading:!0,busca:"",cardTitle:"",cardText:"",dialog:!1,activeAction:"",userDialog:!1,user:null,userKey:Math.random()}},methods:{fetchUsers:function(){var e=this;u.a.get("/users").then((function(t){e.users=t.data.filter((function(t){return t.role===e.tipo})),e.users.forEach((function(e){return e.tipo=e.googleId?"Google":"Local"})),e.loading=!1})).catch((function(t){e.$root.vtoast.show({color:"orange",message:t.response.data}),e.loading=!1}))},promoteUser:function(e){this.dialog=!0,this.cardTitle="Promover usuário",this.cardText="Tem certeza que deseja promover o usuário ".concat(e.name," (").concat(e.email,") para perfil de administrador do sistema?"),this.activeAction={method:"put",target:"/users/".concat(e._id),payload:{role:"admin"},user:e._id}},demoteUser:function(e){this.dialog=!0,this.cardTitle="Remover privilégio",this.cardText="Tem certeza que deseja remover o privilégio de administrador do usuário ".concat(e.name," (").concat(e.email,")?"),this.activeAction={method:"put",target:"/users/".concat(e._id),payload:{role:"cliente"},user:e._id}},createJob:function(e){this.dialog=!0,this.cardTitle="Criar novo projeto",this.cardText="Criar novo projeto vinculado ao cliente ".concat(e.name," (").concat(e.email,")?"),this.activeAction={method:"post",target:"/jobs",payload:{owner:e._id}}},execAction:function(){var e=this;u.a[this.activeAction.method]("".concat(this.activeAction.target),this.activeAction.payload).then((function(t){if(e.$root.vtoast.show({color:"green",message:t.data}),e.activeAction.user){var a=e.users.findIndex((function(t){return t._id===e.activeAction.user}));e.users[a].role=e.activeAction.payload.role}e.dialog=!1})).catch((function(t){e.$root.vtoast.show({color:"orange",message:t.response.data})}))},closeUser:function(e){console.log(e),e&&this.fetchUsers(),this.userDialog=!1},editUser:function(e){this.user=e,this.userKey=e._id,this.userDialog=!0},createUser:function(){this.user=null,this.userKey=Math.random(),this.userDialog=!0}},mounted:function(){this.fetchUsers()}},Jt=Gt,Kt=a("169a"),Wt=a("3a2f"),Xt=Object(p["a"])(Jt,qt,Dt,!1,null,"460e3656",null),Zt=Xt.exports;h()(Xt,{VBtn:b["a"],VCard:x["a"],VCardActions:oe["a"],VCardText:oe["b"],VCardTitle:oe["c"],VDataTable:Rt["a"],VDialog:Kt["a"],VDivider:C["a"],VIcon:U["a"],VSpacer:T["a"],VTextField:$e["a"],VTooltip:Wt["a"]});var Qt={components:{Messages:Ut,Users:Zt}},Yt=Qt,ea=a("cd55"),ta=a("49e2"),aa=a("c865"),na=a("0393"),oa=Object(p["a"])(Yt,$t,Tt,!1,null,"0f5ce66e",null),sa=oa.exports;h()(oa,{VCard:x["a"],VCardText:oe["b"],VCardTitle:oe["c"],VDivider:C["a"],VExpansionPanel:ea["a"],VExpansionPanelContent:ta["a"],VExpansionPanelHeader:aa["a"],VExpansionPanels:na["a"]});var ra=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},ia=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"d-flex justify-center align-center fill-height text-center"},[a("h1",[e._v("\n    Ops..."),a("br"),e._v("\n    Página não encontrada\n  ")])])}],ca=(a("1938"),{}),la=Object(p["a"])(ca,ra,ia,!1,null,"abae09b4",null),da=la.exports;n["a"].use(J["a"]);var ua=[{path:"/",name:"Home",component:Xe},{path:"/cliente",name:"Cliente",component:At,beforeEnter:function(e,t,a){u.a.get("auth/user").then((function(e){e.data.id?(W.state.user=e.data,a()):a({name:"Login"})})).catch((function(){a({name:"Login"})}))}},{path:"/dashboard",name:"Dashboard",component:sa,beforeEnter:function(e,t,a){u.a.get("auth/user").then((function(e){e.data.acesso.includes("admin")?(W.state.user=e.data,a()):a({name:"Login"})})).catch((function(){a({name:"Login"})}))}},{path:"/login",name:"Login",component:wt},{path:"*",name:"PNF",component:da}],ma=new J["a"]({routes:ua}),va=ma,pa=a("f309");n["a"].use(pa["a"]);var fa=new pa["a"]({theme:{themes:{light:{primary:"#0B0500",color1:"#626D58",color2:"#307351",color3:"#AAD2BA",color4:"#2C2784",accent:"#8c9eff",error:"#b71c1c"}},options:{customProperties:!0}}});u.a.defaults.baseURL="/api",u.a.defaults.withCredentials=!0,n["a"].config.productionTip=!1,new n["a"]({router:va,store:W,vuetify:fa,render:function(e){return e(G)}}).$mount("#app")},6275:function(e,t,a){},"66a3":function(e,t,a){e.exports=a.p+"img/logo_transparente.702eec35.png"},6819:function(e,t,a){},7180:function(e,t,a){e.exports=a.p+"img/parallax.6d2581db.jpg"},"7c89":function(e,t,a){e.exports=a.p+"img/parallax2.1902c2c1.jpg"},8554:function(e,t,a){e.exports=a.p+"img/1.ab401111.jpg"},"966e":function(e,t,a){"use strict";a("4d61")},b640:function(e,t,a){e.exports=a.p+"img/logo.99279d4a.jpg"},f821:function(e,t,a){"use strict";a("6819")}});
//# sourceMappingURL=app.24b0ada4.js.map